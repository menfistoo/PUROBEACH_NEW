/* =============================================================================
 * MAP BUNDLE - Auto-concatenated CSS for /beach/map page
 * Source files preserved individually for maintainability
 * ============================================================================= */

/* --- customer-search.css --- */
/**
 * CustomerSearch Component Styles
 * Shared styles for customer search across reservation form and map
 */

/* Results container */
.cs-results {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    z-index: 1000;
    max-height: 350px;
    overflow-y: auto;
    margin-top: 4px;
}

.cs-results.show {
    display: block;
}

/* Section header */
.cs-section-header {
    padding: 8px 12px;
    background: var(--color-sand, #F5E6D3);
    font-size: 12px;
    font-weight: 600;
    color: var(--color-secondary, #1A3A5C);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-bottom: 1px solid #e0d5c7;
}

.cs-section-header i {
    margin-right: 6px;
    color: var(--color-primary, #D4AF37);
}

/* Result items */
.cs-item {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    cursor: pointer;
    border-bottom: 1px solid #f0f0f0;
    transition: background 0.15s;
}

.cs-item:hover {
    background: #f8f9fa;
}

.cs-item:last-child {
    border-bottom: none;
}

/* Avatar */
.cs-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--color-sand, #F5E6D3);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 12px;
    flex-shrink: 0;
}

.cs-avatar i {
    color: var(--color-secondary, #1A3A5C);
    font-size: 14px;
}

.cs-avatar.vip {
    background: linear-gradient(135deg, #D4AF37 0%, #B8960C 100%);
}

.cs-avatar.vip i {
    color: white;
}

.cs-avatar.hotel {
    background: var(--color-info, #17a2b8);
}

.cs-avatar.hotel i {
    color: white;
}

/* Info section */
.cs-info {
    flex: 1;
    min-width: 0;
}

.cs-name {
    font-weight: 500;
    color: #333;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.cs-details {
    font-size: 12px;
    color: #666;
    margin-top: 2px;
}

.cs-details i {
    margin-right: 4px;
    color: #999;
}

/* Badges */
.cs-badge {
    display: inline-block;
    padding: 2px 6px;
    font-size: 10px;
    font-weight: 600;
    border-radius: 4px;
    margin-left: 6px;
    text-transform: uppercase;
    vertical-align: middle;
}

.cs-badge.cs-vip {
    background: var(--color-warning, #ffc107);
    color: #333;
}

.cs-badge.cs-checkin {
    background: var(--color-success, #28a745);
    color: white;
}

.cs-badge.cs-checkout {
    background: var(--color-danger, #dc3545);
    color: white;
}

.cs-badge.cs-main {
    background: var(--color-info, #17a2b8);
    color: white;
}

/* Action chevron */
.cs-action {
    color: #ccc;
    margin-left: 8px;
}

/* No results */
.cs-no-results {
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
    color: #999;
    font-size: 14px;
    gap: 8px;
}

/* Create link */
.cs-create-link {
    display: block;
    padding: 10px 12px;
    text-align: center;
    color: var(--color-primary, #D4AF37);
    font-weight: 500;
    text-decoration: none;
    border-top: 1px solid #eee;
    transition: background 0.15s;
}

.cs-create-link:hover {
    background: #f8f9fa;
    color: var(--color-primary-dark, #B8960C);
}

.cs-create-link i {
    margin-right: 6px;
}

/* =============================================================================
   COMPACT MODE (for map quick reservation)
   ============================================================================= */

.cs-results.cs-compact .cs-section-header {
    padding: 6px 10px;
    font-size: 11px;
}

.cs-results.cs-compact .cs-item {
    padding: 8px 10px;
    flex-direction: column;
    align-items: flex-start;
}

.cs-results.cs-compact .cs-item-name {
    font-weight: 500;
    color: #333;
    font-size: 14px;
}

.cs-results.cs-compact .cs-item-details {
    font-size: 12px;
    color: #666;
    margin-top: 2px;
}

.cs-results.cs-compact .cs-badge {
    font-size: 9px;
    padding: 1px 4px;
}

.cs-results.cs-compact .cs-no-results {
    padding: 15px;
    font-size: 13px;
}

.cs-results.cs-compact .cs-create-link {
    padding: 8px 10px;
    font-size: 13px;
}

/* =============================================================================
   CREATE CUSTOMER OPTION (Button shown when no results)
   ============================================================================= */
.cs-create-option {
    padding: 12px;
    border-top: 1px solid #eee;
}

.cs-divider {
    text-align: center;
    position: relative;
    margin-bottom: 12px;
}

.cs-divider::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    width: 100%;
    height: 1px;
    background: var(--color-border, #dee2e6);
}

.cs-divider span {
    background: white;
    padding: 0 12px;
    position: relative;
    color: var(--color-text-muted, #6c757d);
    font-size: 12px;
}

.cs-btn-show-create {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;
    padding: 12px 16px;
    background: white;
    border: 2px solid var(--color-primary, #D4AF37);
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    color: var(--color-primary, #D4AF37);
    cursor: pointer;
    transition: all 0.15s;
}

.cs-btn-show-create:hover {
    background: var(--color-primary, #D4AF37);
    color: white;
}

.cs-btn-show-create i {
    font-size: 16px;
}

/* Compact mode */
.cs-results.cs-compact .cs-create-option {
    padding: 10px;
}

.cs-results.cs-compact .cs-btn-show-create {
    padding: 10px 12px;
    font-size: 13px;
}


/* --- date-picker.css --- */
/**
 * DatePicker - Shared multi-day date picker styles
 *
 * Used by both reservation form and map quick reservation modal.
 * Follows Beach Club design system.
 */

/* Container */
.dp-container {
    position: relative;
}

/* Collapsed view */
.dp-collapsed {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    background: var(--color-surface, #fff);
    border: 1px solid var(--color-border, #dee2e6);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
}

.dp-collapsed:hover {
    border-color: var(--color-primary, #D4AF37);
    background: var(--color-primary-light-bg, #fffbf0);
}

.dp-preview {
    display: flex;
    align-items: center;
}

.dp-preview-text {
    color: var(--color-text, #1A3A5C);
}

/* Expanded calendar dropdown */
.dp-expanded {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    z-index: 100;
    margin-top: 5px;
    background: var(--color-surface, #fff);
    border: 1px solid var(--color-border, #dee2e6);
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    padding: 15px;
}

.dp-footer {
    border-top: 1px solid var(--color-border, #dee2e6);
    margin-top: 10px;
    padding-top: 10px;
    text-align: center;
}

/* Calendar header */
.cal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 5px;
    margin-bottom: 10px;
}

.cal-header .cal-title {
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--color-text, #1A3A5C);
}

.cal-header button {
    background: none;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
    border-radius: 4px;
    color: var(--color-text-muted, #6c757d);
}

.cal-header button:hover {
    background: var(--color-light-gray, #f8f9fa);
}

.cal-header button:focus {
    outline: 2px solid var(--color-primary, #D4AF37);
    outline-offset: 2px;
}

/* Calendar weekdays */
.cal-weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--color-text-muted, #6c757d);
    margin-bottom: 5px;
}

/* Calendar days grid */
.cal-days {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 3px;
}

.cal-day {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.85rem;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.15s;
    border: none;
    background: transparent;
    color: var(--color-text, #1A3A5C);
}

.cal-day:hover:not(.disabled):not(.selected) {
    background: var(--color-light-gray, #f8f9fa);
}

.cal-day:focus {
    outline: 2px solid var(--color-primary, #D4AF37);
    outline-offset: 2px;
}

.cal-day.today {
    font-weight: 700;
    color: var(--color-primary, #D4AF37);
}

.cal-day.selected {
    background: var(--color-primary, #D4AF37);
    color: var(--color-surface, #fff);
    font-weight: 600;
}

.cal-day.disabled {
    color: #767676;
    cursor: not-allowed;
}

.cal-day.other-month {
    color: #767676;
}

/* Selected date tags */
.dp-selected-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    justify-content: center;
}

.date-tag {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 4px 10px;
    background: var(--color-sand, #F5E6D3);
    border: 1px solid var(--color-primary, #D4AF37);
    border-radius: 16px;
    font-size: 0.8rem;
    color: var(--color-text, #1A3A5C);
}

.date-tag .remove {
    cursor: pointer;
    font-weight: bold;
    opacity: 0.7;
    transition: opacity 0.2s;
}

.date-tag .remove:hover {
    opacity: 1;
}

/* Compact mode for modals/sheets */
.dp-compact .dp-collapsed {
    padding: 8px 10px;
    border-radius: 6px;
}

.dp-compact .dp-expanded {
    position: relative;
    margin-top: 8px;
    padding: 10px;
    border-radius: 6px;
    box-shadow: none;
    border: 1px solid var(--color-border, #dee2e6);
}

.dp-compact .cal-header {
    padding: 4px 0;
    margin-bottom: 6px;
}

.dp-compact .cal-header .cal-title {
    font-size: 0.85rem;
}

.dp-compact .cal-header button {
    padding: 3px 8px;
    font-size: 0.8rem;
}

.dp-compact .cal-weekdays {
    font-size: 0.65rem;
    margin-bottom: 3px;
}

.dp-compact .cal-days {
    gap: 2px;
}

.dp-compact .cal-day {
    font-size: 0.75rem;
    aspect-ratio: auto;
    padding: 4px 2px;
    min-width: 24px;
    min-height: 24px;
    border-radius: 4px;
}

.dp-compact .dp-footer {
    margin-top: 6px;
    padding-top: 6px;
}

.dp-compact .dp-selected-tags {
    gap: 4px;
}

.dp-compact .date-tag {
    padding: 2px 8px;
    font-size: 0.7rem;
    border-radius: 12px;
}

.dp-compact .dp-footer small {
    font-size: 0.7rem;
}

/* =============================================================================
   OCCUPANCY VISUALIZATION
   ============================================================================= */

/* Loading indicator */
.dp-loading {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--color-primary, #D4AF37);
    font-size: 1.5rem;
    z-index: 10;
}

/* Medium occupancy (50-79%) - subtle warning */
.cal-day.occupancy-medium {
    background: rgba(229, 163, 61, 0.12);
}

.cal-day.occupancy-medium:hover:not(.disabled):not(.selected) {
    background: rgba(229, 163, 61, 0.2);
}

/* High occupancy (80-99%) - visible warning */
.cal-day.occupancy-high {
    background: rgba(229, 163, 61, 0.25);
    border: 1px solid var(--color-warning, #E5A33D);
}

.cal-day.occupancy-high:hover:not(.disabled):not(.selected) {
    background: rgba(229, 163, 61, 0.35);
}

/* Full occupancy (100%) - blocked */
.cal-day.occupancy-full {
    background: rgba(193, 68, 79, 0.12);
    border: 1px solid var(--color-error, #C1444F);
    color: var(--color-error, #C1444F) !important;
    cursor: not-allowed;
}

.cal-day.occupancy-full:not(.selected) {
    opacity: 0.7;
}

/* Selected states with occupancy */
.cal-day.selected.occupancy-high {
    background: var(--color-warning, #E5A33D);
    border-color: var(--color-warning, #E5A33D);
    color: var(--color-surface, #fff);
}

.cal-day.selected.occupancy-full {
    background: var(--color-error, #C1444F);
    border-color: var(--color-error, #C1444F);
    color: var(--color-surface, #fff) !important;
}


/* --- reservation-panel.css --- */
/**
 * Reservation Panel Styles
 * Mobile-first, responsive side panel for editing reservations from the map
 *
 * Uses CSS variables from main.css - NO hardcoded colors!
 */

/* =============================================================================
   BACKDROP
   ============================================================================= */
.reservation-panel-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(26, 26, 26, 0.6);
    z-index: var(--z-modal-backdrop);
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-slow), visibility var(--transition-slow);
}

.reservation-panel-backdrop.show {
    opacity: 1;
    visibility: visible;
}

/* =============================================================================
   PANEL CONTAINER
   ============================================================================= */
.reservation-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: 100%;
    height: 100vh;
    height: 100dvh; /* Dynamic viewport height for mobile browsers */
    background: var(--color-white);
    z-index: var(--z-modal);
    display: flex;
    flex-direction: column;
    transform: translateX(100%);
    transition: transform var(--transition-slow) cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.08);
}

.reservation-panel.open {
    transform: translateX(0);
}

/* Collapsed state handled by open.collapsed below */
.reservation-panel.collapsed .panel-body {
    overflow: hidden;
}

/* When collapsed, flip the chevron to point left */
.reservation-panel.collapsed .panel-toggle-btn i {
    transform: rotate(180deg);
}

/* Swipe indicator for mobile */
.reservation-panel::before {
    content: '';
    position: absolute;
    top: var(--space-2);
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 4px;
    background: var(--color-medium-gray);
    border-radius: var(--border-radius-full);
    opacity: 0.5;
    z-index: 1;
}

/* Tablet: Side panel */
@media (min-width: 768px) {
    .reservation-panel {
        width: 400px;
        top: 60px;
        height: calc(100vh - 80px);
        border-radius: 12px 0 0 12px;
    }

    .reservation-panel.open.collapsed {
        transform: translateX(calc(100% - 48px));
    }

    /* Maintain rounded corners when collapsed */
    .reservation-panel.collapsed {
        border-radius: 12px 0 0 12px !important;
        overflow: visible;
    }

    .reservation-panel::before {
        display: none; /* Hide swipe indicator on tablet/desktop */
    }

    /* Adjust map when panel is open */
    .map-canvas-wrapper.panel-open {
        margin-right: 400px;
        transition: margin-right var(--transition-slow);
    }
}

/* Desktop: Slightly wider */
@media (min-width: 1200px) {
    .reservation-panel {
        width: 420px;
    }

    .map-canvas-wrapper.panel-open {
        margin-right: 420px;
    }
}

/* =============================================================================
   HEADER
   ============================================================================= */
.reservation-panel .panel-header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3) var(--space-4);
    padding-top: calc(var(--space-3) + 8px); /* Extra space for swipe indicator on mobile */
    background: var(--color-cromad);
    color: var(--color-white);
    border-bottom: 3px solid var(--color-primary);
    flex-shrink: 0;
}

@media (min-width: 768px) {
    .reservation-panel .panel-header {
        padding-top: var(--space-3);
        border-radius: 12px 0 0 0; /* Rounded top-left corner to match panel */
    }

    /* When collapsed, collapsed bar has the rounded edge */
    .reservation-panel.open.collapsed .panel-header {
        border-radius: 0;
        display: none; /* Hide header when collapsed */
    }

    .reservation-panel.open.collapsed .panel-body {
        display: none; /* Hide body when collapsed */
    }
}

.reservation-panel .panel-toggle-btn,
.reservation-panel .panel-close-btn,
.reservation-panel .panel-edit-btn {
    width: 44px;
    height: 44px;
    min-width: 44px;
    border-radius: var(--border-radius-full);
    border: none;
    background: rgba(255, 255, 255, 0.15);
    color: var(--color-white);
    font-size: 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background var(--transition-fast);
}

.reservation-panel .panel-toggle-btn:hover,
.reservation-panel .panel-close-btn:hover,
.reservation-panel .panel-edit-btn:hover {
    background: rgba(255, 255, 255, 0.25);
}

.reservation-panel .panel-toggle-btn:active,
.reservation-panel .panel-close-btn:active,
.reservation-panel .panel-edit-btn:active {
    background: rgba(255, 255, 255, 0.35);
}

/* Toggle button icon transition */
.reservation-panel .panel-toggle-btn i {
    transition: transform var(--transition-fast);
}

/* =============================================================================
   COLLAPSED BAR - Vertical strip on left edge, always visible when collapsed
   ============================================================================= */

.reservation-panel .collapsed-bar {
    position: absolute;
    left: 0;
    top: 0;
    width: 48px;
    height: 100%;
    background: var(--color-cromad);
    display: none; /* Hidden by default */
    flex-direction: column;
    align-items: center;
    padding-top: 16px;
    padding-bottom: 16px;
    gap: 12px;
    z-index: 100;
    border-radius: 12px 0 0 12px !important;
}

/* Show collapsed bar ONLY when panel is open AND collapsed (tablet+) */
@media (min-width: 768px) {
    .reservation-panel.open.collapsed .collapsed-bar {
        display: flex;
    }
}

/* =============================================================================
   COLLAPSE TOGGLE - TOUCH FRIENDLY
   ============================================================================= */

.reservation-panel .collapse-toggle {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.15);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    transition: all 0.2s ease;
    font-size: 14px;
    flex-shrink: 0;
}

.reservation-panel .collapse-toggle:hover {
    background: rgba(255, 255, 255, 0.25);
}

.reservation-panel .collapse-toggle:active {
    background: rgba(255, 255, 255, 0.35);
}

.reservation-panel.collapsed .collapse-toggle i {
    transform: rotate(180deg);
}

.reservation-panel .panel-title {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-width: 0; /* Allow text truncation */
}

.reservation-panel .panel-ticket {
    font-size: 18px;
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.reservation-panel .panel-date {
    font-size: 13px;
    opacity: 0.8;
}

/* Edit mode header styling */
.reservation-panel.edit-mode .panel-edit-btn {
    background: var(--color-primary);
}

/* =============================================================================
   BODY (Scrollable Content)
   ============================================================================= */
.reservation-panel .panel-body {
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding: var(--space-4);
    overscroll-behavior: contain;
}

/* Loading State */
.reservation-panel .panel-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-12) 0;
    color: var(--color-text-muted);
}

.reservation-panel .panel-loading .spinner-border {
    width: 32px;
    height: 32px;
    border-width: 3px;
}

/* =============================================================================
   SECTIONS
   ============================================================================= */
.reservation-panel .panel-section {
    margin-bottom: var(--space-4);
    padding: var(--space-3);
    background: var(--color-accent);
    border-radius: var(--border-radius-lg);
}

.reservation-panel .panel-section:last-child {
    margin-bottom: 0;
}

.reservation-panel .panel-section-title {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--color-text-muted);
    margin-bottom: var(--space-2);
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.reservation-panel .panel-section-title i {
    font-size: 12px;
}

/* =============================================================================
   CUSTOMER SECTION
   ============================================================================= */
.reservation-panel .customer-section {
    background: var(--color-white);
    border: 1px solid var(--color-border);
}

/* Compact Customer Display */
.reservation-panel .customer-display-compact {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
}

.reservation-panel .customer-name-row {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    flex-wrap: wrap;
}

.reservation-panel .customer-name {
    font-size: 16px;
    font-weight: 600;
    color: var(--color-secondary);
}

/* Customer name as clickable button (opens customer details) */
.reservation-panel .customer-name-link {
    background: none;
    border: none;
    outline: none;
    padding: 0;
    cursor: pointer;
    text-align: left;
    font: inherit;
    font-size: 16px;
    font-weight: 600;
    color: var(--color-secondary);
    transition: color 0.15s ease;
}

.reservation-panel .customer-name-link:hover {
    color: var(--color-primary);
    text-decoration: underline;
}

.reservation-panel .customer-name-link:focus,
.reservation-panel .customer-name-link:focus-visible {
    outline: none;
    color: var(--color-primary);
}

/* External link icon next to customer name */
.reservation-panel .customer-name-link .fa-external-link-alt {
    font-size: 11px;
    margin-left: 5px;
    opacity: 0;
    transition: opacity 0.15s ease;
}

.reservation-panel .customer-name-link:hover .fa-external-link-alt {
    opacity: 0.7;
}

.reservation-panel .customer-room-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 3px 10px;
    background: var(--color-info);
    color: var(--color-white);
    border-radius: var(--border-radius-full);
    font-size: 13px;
    font-weight: 600;
}

.reservation-panel .customer-room-badge i {
    font-size: 11px;
}

.reservation-panel .customer-vip-badge {
    padding: 2px 8px;
    background: var(--color-warning);
    color: var(--color-white);
    border-radius: var(--border-radius-full);
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.reservation-panel .customer-hotel-info {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: 12px;
    color: var(--color-text-muted);
    flex-wrap: wrap;
}

.reservation-panel .hotel-info-item {
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.reservation-panel .hotel-info-item i {
    font-size: 10px;
    color: var(--color-text-muted);
}

.reservation-panel .hotel-info-separator {
    color: var(--color-border);
    font-size: 10px;
}

.reservation-panel .hotel-info-item.booking-ref {
    margin-left: var(--space-2);
    padding-left: var(--space-2);
    border-left: 1px solid var(--color-border);
}

.reservation-panel .customer-contact {
    font-size: 12px;
    color: var(--color-text-muted);
}

/* Customer change button in title */
.reservation-panel .customer-section .panel-section-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.reservation-panel .customer-change-btn,
.new-reservation-panel .customer-clear-btn {
    width: 28px;
    height: 28px;
    border-radius: var(--border-radius-full);
    border: 1px solid var(--color-border);
    background: var(--color-white);
    color: var(--color-text-muted);
    font-size: 11px;
    cursor: pointer;
    display: none;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
    margin-left: auto;
}

.reservation-panel .customer-change-btn:hover,
.new-reservation-panel .customer-clear-btn:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
    background: var(--color-accent);
}

.reservation-panel.edit-mode .customer-change-btn {
    display: flex;
    align-items: center;
    gap: var(--space-1);
}

/* Customer Search (Edit Mode) */
.reservation-panel .customer-search-wrapper {
    margin-top: var(--space-3);
    position: relative;
}

.reservation-panel .customer-search-wrapper input {
    width: 100%;
    padding: var(--space-3);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    font-size: 14px;
}

.reservation-panel .customer-search-wrapper input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.15);
}

.reservation-panel .customer-search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    box-shadow: var(--shadow-lg);
    max-height: 250px;
    overflow-y: auto;
    z-index: 10;
    margin-top: var(--space-1);
}

.reservation-panel .customer-search-item {
    padding: var(--space-3);
    cursor: pointer;
    border-bottom: 1px solid var(--color-border);
    transition: background var(--transition-fast);
}

.reservation-panel .customer-search-item:last-child {
    border-bottom: none;
}

.reservation-panel .customer-search-item:hover {
    background: var(--color-accent);
}

/* =============================================================================
   PREFERENCES SECTION
   ============================================================================= */
.reservation-panel .preferences-section {
    background: var(--color-white);
    border: 1px solid var(--color-border);
}

.reservation-panel .preferences-section .panel-section-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.reservation-panel .preferences-edit-btn {
    width: 28px;
    height: 28px;
    border-radius: var(--border-radius-full);
    border: 1px solid var(--color-border);
    background: var(--color-white);
    color: var(--color-text-muted);
    font-size: 11px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
    margin-left: auto;
}

.reservation-panel .preferences-edit-btn:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
    background: var(--color-accent);
}

.reservation-panel .preferences-chips,
.reservation-panel .preferences-all-chips {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.reservation-panel .preference-chip {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-1) var(--space-3);
    background: var(--color-accent);
    border: 1px solid var(--color-primary);
    border-radius: var(--border-radius-full);
    font-size: 12px;
    font-weight: 500;
    color: var(--color-secondary);
}

.reservation-panel .preference-chip i {
    font-size: 11px;
    color: var(--color-primary);
}

/* Toggleable preference chips in edit mode */
.reservation-panel .preference-chip.toggleable {
    cursor: pointer;
    transition: all var(--transition-fast);
    background: var(--color-light-gray);
    border-color: var(--color-border);
    opacity: 0.7;
}

.reservation-panel .preference-chip.toggleable i {
    color: var(--color-text-muted);
}

.reservation-panel .preference-chip.toggleable:hover {
    opacity: 1;
    border-color: var(--color-primary);
}

.reservation-panel .preference-chip.toggleable.selected {
    background: var(--color-accent);
    border-color: var(--color-primary);
    opacity: 1;
}

.reservation-panel .preference-chip.toggleable.selected i {
    color: var(--color-primary);
}

/* Preferences edit mode actions */
.reservation-panel .preferences-edit-actions {
    display: flex;
    gap: var(--space-2);
    margin-top: var(--space-3);
}

.reservation-panel .preferences-cancel-btn {
    flex: 1;
    padding: var(--space-2);
    min-height: 36px;
    background: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    color: var(--color-text-muted);
    font-size: 13px;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.reservation-panel .preferences-cancel-btn:hover {
    background: var(--color-light-gray);
}

.reservation-panel .preferences-save-btn {
    flex: 1;
    padding: var(--space-2);
    min-height: 36px;
    background: var(--color-primary);
    border: none;
    border-radius: var(--border-radius-md);
    color: var(--color-white);
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1);
    transition: all var(--transition-fast);
}

.reservation-panel .preferences-save-btn:hover {
    background: var(--color-primary-dark);
}

.reservation-panel .preferences-save-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.reservation-panel .preferences-sync-note {
    margin: var(--space-2) 0 0 0;
    padding: var(--space-2);
    background: var(--color-info-bg, rgba(23, 162, 184, 0.1));
    border-radius: var(--border-radius-sm);
    font-size: 11px;
    color: var(--color-info, #17a2b8);
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.reservation-panel .preferences-sync-note i {
    font-size: 12px;
}

/* =============================================================================
   TAGS SECTION
   ============================================================================= */
.reservation-panel .tags-section {
    background: var(--color-white);
    border: 1px solid var(--color-border);
}

.reservation-panel .tag-chips {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.reservation-panel .tag-chip {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-1) var(--space-3);
    background: var(--color-white);
    border: 1px solid var(--tag-color, var(--color-border));
    border-radius: var(--border-radius-full);
    font-size: 12px;
    font-weight: 500;
    color: var(--tag-color, var(--color-text-muted));
    transition: all var(--transition-fast);
}

.reservation-panel .tag-chip i {
    font-size: 10px;
    color: var(--tag-color, var(--color-text-muted));
}

.reservation-panel .tag-chip.toggleable {
    cursor: pointer;
    background: var(--color-white);
    border: 1px solid var(--color-border);
    color: var(--color-text-muted);
    opacity: 0.7;
}

.reservation-panel .tag-chip.toggleable i {
    color: var(--color-text-muted);
}

.reservation-panel .tag-chip.toggleable:hover {
    opacity: 1;
    border-color: var(--tag-color, var(--color-primary));
    color: var(--tag-color, var(--color-primary));
}

.reservation-panel .tag-chip.toggleable:focus {
    outline: none;
    border-color: var(--tag-color, var(--color-primary));
}

.reservation-panel .tag-chip.toggleable:focus-visible {
    outline: 2px solid var(--tag-color, var(--color-primary));
    outline-offset: 2px;
}

.reservation-panel .tag-chip.toggleable.active {
    background: var(--tag-color, var(--color-primary));
    border-color: var(--tag-color, var(--color-primary));
    color: var(--color-white);
    opacity: 1;
}

.reservation-panel .tag-chip.toggleable.active i {
    color: var(--color-white);
}

/* =============================================================================
   STATE SECTION
   ============================================================================= */
.reservation-panel .state-chips {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.reservation-panel .state-chip {
    padding: var(--space-2) var(--space-4);
    min-height: 44px;
    border-radius: var(--border-radius-full);
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    border: 2px solid;
    transition: all var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
}

.reservation-panel .state-chip:not(.active) {
    background: transparent;
    color: var(--color-secondary);
}

.reservation-panel .state-chip.active {
    color: var(--color-white);
}

.reservation-panel .state-chip:hover:not(.active) {
    transform: translateY(-1px);
}

.reservation-panel .state-chip.loading {
    opacity: 0.6;
    pointer-events: none;
}

/* =============================================================================
   FURNITURE SECTION
   ============================================================================= */
.reservation-panel .furniture-chips {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    margin-bottom: var(--space-3);
}

.reservation-panel .furniture-chip {
    padding: var(--space-2) var(--space-3);
    background: var(--color-white);
    border: 1px solid var(--color-primary);
    border-radius: var(--border-radius-full);
    font-size: 13px;
    font-weight: 600;
    color: var(--color-secondary);
}

.reservation-panel .furniture-chip .furniture-type-icon {
    margin-right: var(--space-1);
    opacity: 0.7;
}

.reservation-panel .furniture-action-btns {
    display: flex;
    gap: var(--space-2);
}

.reservation-panel .furniture-change-btn {
    flex: 1;
    padding: var(--space-2) var(--space-3);
    min-height: 40px;
    background: var(--color-white);
    border: 1px dashed var(--color-primary);
    border-radius: var(--border-radius-md);
    color: var(--color-primary);
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    transition: all var(--transition-fast);
}

.reservation-panel .furniture-change-btn:hover {
    background: var(--color-accent);
    border-style: solid;
}

.reservation-panel .furniture-change-btn.move-mode-btn {
    border-color: var(--color-secondary);
    color: var(--color-secondary);
}

.reservation-panel .furniture-change-btn.move-mode-btn:hover {
    background: rgba(26, 58, 92, 0.1);
}

.reservation-panel .furniture-summary {
    font-size: 12px;
    color: var(--color-text-muted);
    margin-top: var(--space-2);
    text-align: center;
}

/* =============================================================================
   DETAILS SECTION
   ============================================================================= */
.reservation-panel .details-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-3);
}

.reservation-panel .detail-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
}

.reservation-panel .detail-item.full-width {
    grid-column: 1 / -1;
}

.reservation-panel .detail-label {
    font-size: 11px;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.reservation-panel .detail-value {
    font-size: 14px;
    font-weight: 500;
    color: var(--color-secondary);
}

/* Editable fields in edit mode */
.reservation-panel.edit-mode .detail-value.editable {
    background: var(--color-white);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--border-radius-md);
    border: 1px solid var(--color-border);
}

.reservation-panel .detail-select {
    width: 100%;
    padding: var(--space-2) var(--space-3);
    min-height: 44px;
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    background: var(--color-white);
    font-size: 14px;
    color: var(--color-text);
    cursor: pointer;
}

.reservation-panel .detail-select:focus {
    outline: none;
    border-color: var(--color-primary);
}

.reservation-panel .detail-input {
    width: 100%;
    padding: var(--space-2) var(--space-3);
    min-height: 44px;
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    background: var(--color-white);
    font-size: 14px;
    color: var(--color-text);
}

.reservation-panel .detail-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.15);
}

/* Notes display/textarea */
.reservation-panel .notes-display {
    grid-column: 1 / -1;
    background: var(--color-white);
    padding: var(--space-3);
    border-radius: var(--border-radius-md);
    font-size: 13px;
    color: var(--color-text-muted);
    min-height: 60px;
    line-height: 1.5;
}

.reservation-panel .notes-display.empty {
    font-style: italic;
    opacity: 0.7;
}

.reservation-panel .notes-textarea {
    width: 100%;
    min-height: 100px;
    padding: var(--space-3);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    background: var(--color-white);
    font-size: 13px;
    font-family: inherit;
    color: var(--color-text);
    resize: vertical;
}

.reservation-panel .notes-textarea:focus {
    outline: none;
    border-color: var(--color-primary);
}

/* =============================================================================
   FOOTER
   ============================================================================= */
.reservation-panel .panel-footer {
    padding: var(--space-3) var(--space-4);
    padding-bottom: max(var(--space-3), env(safe-area-inset-bottom));
    border-top: 1px solid var(--color-border);
    display: none;
    gap: var(--space-3);
    background: var(--color-white);
    flex-shrink: 0;
}

.reservation-panel.edit-mode .panel-footer {
    display: flex;
}

.reservation-panel .panel-cancel-btn {
    flex: 1;
    padding: var(--space-3);
    min-height: 48px;
    background: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-lg);
    color: var(--color-text-muted);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.reservation-panel .panel-cancel-btn:hover {
    background: var(--color-light-gray);
}

.reservation-panel .panel-save-btn {
    flex: 2;
    padding: var(--space-3);
    min-height: 48px;
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
    border: none;
    border-radius: var(--border-radius-lg);
    color: var(--color-white);
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    transition: all var(--transition-fast);
}

.reservation-panel .panel-save-btn:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

.reservation-panel .panel-save-btn:active {
    transform: translateY(0);
}

.reservation-panel .panel-save-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.reservation-panel .panel-save-btn .spinner-border {
    width: 16px;
    height: 16px;
    border-width: 2px;
}

/* =============================================================================
   DANGER ZONE (Cancel Reservation)
   ============================================================================= */
.reservation-panel .danger-section {
    margin-top: var(--space-4);
    padding-top: var(--space-4);
    border-top: 1px dashed var(--color-border);
}

.reservation-panel .danger-btn {
    width: 100%;
    padding: var(--space-3);
    min-height: 44px;
    background: transparent;
    border: 1px solid var(--color-error);
    border-radius: var(--border-radius-md);
    color: var(--color-error);
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    transition: all var(--transition-fast);
}

.reservation-panel .danger-btn:hover {
    background: var(--color-error);
    color: var(--color-white);
}

/* =============================================================================
   VIEW MORE LINK
   ============================================================================= */
.reservation-panel .view-more-link {
    display: block;
    text-align: center;
    padding: var(--space-3);
    margin-top: var(--space-4);
    color: var(--color-primary);
    text-decoration: none;
    font-size: 13px;
    font-weight: 500;
    border: 1px solid var(--color-primary);
    border-radius: var(--border-radius-md);
    transition: all var(--transition-fast);
}

.reservation-panel .view-more-link:hover {
    background: var(--color-primary);
    color: var(--color-white);
}

/* =============================================================================
   ANIMATIONS
   ============================================================================= */
@keyframes panelSlideIn {
    from {
        transform: translateX(100%);
    }
    to {
        transform: translateX(0);
    }
}

@keyframes panelSlideOut {
    from {
        transform: translateX(0);
    }
    to {
        transform: translateX(100%);
    }
}

/* =============================================================================
   TOUCH GESTURES
   ============================================================================= */
.reservation-panel.dragging {
    transition: none;
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */
.reservation-panel .text-truncate {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.reservation-panel .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
}

/* =============================================================================
   PRICING SECTION
   ============================================================================= */

/* View Mode */
.pricing-view-mode {
    padding: var(--space-2) 0;
}

.pricing-display-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-2) 0;
}

.pricing-label {
    font-size: 14px;
    color: var(--color-text-muted, #6B7280);
    font-weight: 500;
}

.pricing-value {
    font-size: 20px;
    font-weight: 700;
    color: var(--color-primary, #D4AF37);
}

.pricing-breakdown-view {
    font-size: 13px;
    color: var(--color-text-muted);
    padding: var(--space-2);
    background: rgba(26, 58, 92, 0.05);
    border-radius: var(--border-radius);
    margin-top: var(--space-2);
}

.pricing-breakdown-view .package-name {
    color: var(--color-primary, #D4AF37);
    font-weight: 500;
}

/* Edit Mode */
.pricing-edit-mode {
    padding: var(--space-2) 0;
}

.pricing-edit-mode .pricing-display {
    margin-top: var(--space-2);
}

.pricing-edit-mode .pricing-loading {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    color: var(--color-text-muted);
    font-size: 14px;
    padding: var(--space-3);
}

.pricing-edit-mode .pricing-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.pricing-edit-mode .pricing-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-2) 0;
}

.pricing-edit-mode .pricing-row.pricing-amount {
    border-top: 2px solid var(--color-secondary);
    padding-top: var(--space-3);
    margin-top: var(--space-2);
}

.pricing-edit-mode .pricing-display-group {
    width: 100%;
}

.pricing-edit-mode .pricing-display-group .detail-label {
    display: block;
    margin-bottom: var(--space-2);
    font-size: 13px;
    font-weight: 500;
    color: var(--color-text, #1F2937);
}

.pricing-edit-mode .pricing-input-group {
    position: relative;
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.pricing-edit-mode .pricing-currency {
    position: absolute;
    left: 12px;
    font-size: 18px;
    font-weight: 700;
    color: var(--color-primary, #D4AF37);
    pointer-events: none;
    z-index: 1;
}

.pricing-edit-mode .pricing-input {
    flex: 1;
    padding: 10px 12px 10px 28px;
    font-size: 18px;
    font-weight: 600;
    color: var(--color-primary, #D4AF37);
    background: white;
    border: 2px solid rgba(26, 58, 92, 0.15);
    border-radius: 8px;
    transition: all 0.2s ease;
}

.pricing-edit-mode .pricing-input:hover {
    border-color: var(--color-primary, #D4AF37);
    background: rgba(245, 230, 211, 0.1);
}

.pricing-edit-mode .pricing-input:focus {
    outline: none;
    border-color: var(--color-primary, #D4AF37);
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.15);
    background: white;
}

.pricing-edit-mode .pricing-input.modified {
    border-color: var(--color-warning, #E5A33D);
    background: rgba(229, 163, 61, 0.05);
}

.pricing-edit-mode .pricing-reset-btn {
    padding: 8px 12px;
    background: rgba(26, 58, 92, 0.08);
    border: 1px solid rgba(26, 58, 92, 0.15);
    border-radius: 6px;
    color: var(--color-text, #1F2937);
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 14px;
}

.pricing-edit-mode .pricing-reset-btn:hover {
    background: var(--color-primary, #D4AF37);
    border-color: var(--color-primary, #D4AF37);
    color: white;
    transform: scale(1.05);
}

.pricing-edit-mode .pricing-calculated {
    margin-top: var(--space-2);
    padding: var(--space-2);
    background: rgba(26, 58, 92, 0.05);
    border-left: 3px solid var(--color-primary, #D4AF37);
    border-radius: 4px;
    font-size: 12px;
    color: var(--color-text-muted, #6B7280);
}

.pricing-edit-mode .pricing-calculated .calculated-amount {
    font-weight: 600;
    color: var(--color-text, #1F2937);
}

.pricing-edit-mode .pricing-breakdown {
    font-size: 13px;
    color: var(--color-text-muted);
    padding: var(--space-2);
    background: rgba(26, 58, 92, 0.05);
    border-radius: var(--border-radius);
    margin-top: var(--space-2);
}

/* Package Selector */
.pricing-edit-mode .pricing-type-selector {
    margin-bottom: var(--space-4);
}

.pricing-edit-mode .pricing-type-selector .detail-label {
    display: block;
    margin-bottom: var(--space-2);
    font-size: 13px;
    font-weight: 500;
    color: var(--color-text, #1F2937);
}

.pricing-edit-mode .pricing-select {
    width: 100%;
    padding: 10px 12px;
    font-size: 14px;
    font-weight: 400;
    color: var(--color-text, #1F2937);
    background-color: white;
    border: 1.5px solid rgba(26, 58, 92, 0.2);
    border-radius: 8px;
    transition: all 0.2s ease;
    cursor: pointer;
}

.pricing-edit-mode .pricing-select:hover {
    border-color: var(--color-primary, #D4AF37);
    background-color: rgba(245, 230, 211, 0.3);
}

.pricing-edit-mode .pricing-select:focus {
    outline: none;
    border-color: var(--color-primary, #D4AF37);
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.15);
    background-color: white;
}

/* Responsive: Mobile adjustments for pricing section */
@media (max-width: 480px) {
    .pricing-edit-mode .pricing-input-group {
        flex-wrap: wrap;
        gap: var(--space-3);
    }

    .pricing-edit-mode .pricing-reset-btn {
        width: 100%;
        margin-top: var(--space-1);
    }

    .pricing-edit-mode .pricing-currency {
        font-size: 16px;
    }

    .pricing-edit-mode .pricing-input {
        font-size: 16px;
    }
}

/* =============================================================================
   PAYMENT SECTION
   ============================================================================= */

.payment-section {
    border-top: 1px solid var(--color-light-gray, #E5E7EB);
    padding-top: var(--space-3);
}

.payment-section .details-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-3);
}

.payment-view-mode {
    display: grid;
}

.payment-view-mode .detail-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
}

.payment-view-mode .detail-label {
    font-size: 12px;
    color: var(--color-text-muted, #6B7280);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.payment-view-mode .detail-value {
    font-size: 14px;
    color: var(--color-secondary, #1A3A5C);
    font-weight: 500;
}

.payment-edit-mode {
    display: none;
}

.payment-edit-mode .detail-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
}

.payment-edit-mode .detail-label {
    font-size: 12px;
    color: var(--color-text-muted, #6B7280);
    font-weight: 500;
}

.payment-edit-mode .detail-input {
    padding: var(--space-2);
    border: 1px solid var(--color-light-gray, #E5E7EB);
    border-radius: var(--border-radius);
    font-size: 14px;
    transition: border-color var(--transition-fast);
}

.payment-edit-mode .detail-input:focus {
    outline: none;
    border-color: var(--color-primary, #D4AF37);
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
}

/* Mobile: Stack fields vertically */
@media (max-width: 480px) {
    .payment-section .details-grid {
        grid-template-columns: 1fr;
    }
}

/* =============================================================================
   STANDALONE MODE
   Panel outside of map context (e.g., reservations list page)
   ============================================================================= */

/* Standalone backdrop - full overlay without map adjustments */
.reservation-panel-backdrop.standalone {
    pointer-events: auto;
    background: rgba(26, 58, 92, 0.7);
}

/* Standalone panel adjustments */
.reservation-panel.standalone {
    /* Same panel, but without map-specific behaviors */
}

/* On standalone, don't show "Ver todos los detalles" link */
.reservation-panel.standalone .view-more-link {
    display: none;
}

/* =============================================================================
   STATE HISTORY SECTION
   Collapsible section showing state change history
   ============================================================================= */

.state-history-section {
    border-top: 1px solid var(--color-light-gray, #E5E7EB);
    padding-top: var(--space-3);
    margin-top: var(--space-2);
}

/* Collapsible toggle button */
.panel-section-title.collapsible {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: var(--space-2) var(--space-3);
    background: var(--color-warm-sand, #F5E6D3);
    border: none;
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: background 0.2s ease;
    font-size: 13px;
    font-weight: 600;
    color: var(--color-secondary, #1A3A5C);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.panel-section-title.collapsible:hover {
    background: var(--color-sand-dark, #E5D6C3);
}

.panel-section-title.collapsible .toggle-icon {
    transition: transform 0.2s ease;
    font-size: 12px;
    margin-left: auto;
}

.panel-section-title.collapsible.expanded .toggle-icon {
    transform: rotate(180deg);
}

/* History content container */
.state-history-content {
    padding: var(--space-3) 0;
    max-height: 250px;
    overflow-y: auto;
}

/* History list */
.state-history-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

/* Individual history item */
.history-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-2) var(--space-3);
    background: var(--color-light-gray, #F9FAFB);
    border-radius: var(--border-radius);
    font-size: 13px;
}

/* History icon */
.history-item .history-icon {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 12px;
}

.history-item.action-add .history-icon {
    background: rgba(74, 124, 89, 0.15);
    color: var(--color-success, #4A7C59);
}

.history-item.action-remove .history-icon {
    background: rgba(193, 68, 79, 0.15);
    color: var(--color-error, #C1444F);
}

.history-item.action-change .history-icon {
    background: rgba(212, 175, 55, 0.15);
    color: var(--color-primary, #D4AF37);
}

/* History content */
.history-item .history-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.history-item .history-state {
    font-weight: 600;
}

.history-item .history-meta {
    font-size: 11px;
    color: var(--color-text-muted, #6B7280);
}

.history-item .history-notes {
    font-size: 12px;
    color: var(--color-text-muted, #6B7280);
    font-style: italic;
    margin-top: 2px;
}

/* =============================================================================
   RESERVATIONS LIST PAGE STYLES
   ============================================================================= */

/* Clickable reservation rows */
.reservation-row:hover {
    background-color: rgba(212, 175, 55, 0.08) !important;
}

.reservation-row:active {
    background-color: rgba(212, 175, 55, 0.15) !important;
}

/* =============================================================================
   FURNITURE LOCK TOGGLE
   ============================================================================= */

.furniture-section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-2);
}

.btn-lock {
    background: transparent;
    border: none;
    padding: 4px 8px;
    border-radius: var(--border-radius-sm);
    color: var(--color-medium-gray);
    transition: all var(--transition-fast);
    cursor: pointer;
    font-size: 14px;
}

.btn-lock:hover {
    background: rgba(212, 175, 55, 0.1);
    color: var(--color-primary);
}

.btn-lock:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

.btn-lock.locked {
    color: var(--color-primary);
}

.btn-lock:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Disabled state for change furniture button when locked */
.furniture-change-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.furniture-change-btn:disabled:hover {
    background: var(--color-light-gray);
    transform: none;
}


/* --- new-reservation-panel.css --- */
/**
 * New Reservation Panel Styles
 * Consistent with ReservationPanel design pattern
 * Uses CSS variables from main.css
 */

/* =============================================================================
   BACKDROP
   ============================================================================= */
.new-reservation-panel-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(26, 26, 26, 0.6);
    z-index: var(--z-modal-backdrop);
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-slow), visibility var(--transition-slow);
}

.new-reservation-panel-backdrop.show {
    opacity: 1;
    visibility: visible;
}

/* =============================================================================
   PANEL CONTAINER
   ============================================================================= */
.new-reservation-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    background: var(--color-white);
    z-index: var(--z-modal);
    display: flex;
    flex-direction: column;
    transform: translateX(100%);
    transition: transform var(--transition-slow) cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.08);
}

.new-reservation-panel.open {
    transform: translateX(0);
}

/* Swipe indicator for mobile */
.new-reservation-panel::before {
    content: '';
    position: absolute;
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 4px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 2px;
    z-index: 10;
}

/* Tablet: Fixed width panel */
@media (min-width: 768px) {
    .new-reservation-panel {
        width: 400px;
        top: 60px;
        height: calc(100vh - 80px);
        border-radius: 12px 0 0 12px;
    }

    .new-reservation-panel.open.collapsed {
        transform: translateX(calc(100% - 48px));
    }

    /* Maintain rounded corners when collapsed */
    .new-reservation-panel.collapsed {
        border-radius: 12px 0 0 12px !important;
        overflow: visible;
    }

    .new-reservation-panel::before {
        display: none;
    }
}

/* Desktop: Slightly wider */
@media (min-width: 1200px) {
    .new-reservation-panel {
        width: 420px;
    }
}

/* =============================================================================
   HEADER - Reuses reservation-panel styles
   ============================================================================= */
.new-reservation-panel .panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px;
    background: var(--color-cromad);
    border-bottom: 3px solid var(--color-primary);
    color: var(--color-white);
    min-height: 60px;
    flex-shrink: 0;
}

@media (min-width: 768px) {
    .new-reservation-panel .panel-header {
        border-radius: 12px 0 0 0; /* Rounded top-left corner to match panel */
    }

    /* When collapsed, collapsed bar has the rounded edge */
    .new-reservation-panel.open.collapsed .panel-header {
        border-radius: 0;
        display: none; /* Hide header when collapsed */
    }

    .new-reservation-panel.open.collapsed .panel-body {
        display: none; /* Hide body when collapsed */
    }
}

.new-reservation-panel .panel-close-btn {
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: var(--border-radius-lg);
    color: var(--color-white);
    cursor: pointer;
    transition: background var(--transition-fast);
}

.new-reservation-panel .panel-close-btn:hover {
    background: rgba(255, 255, 255, 0.2);
}

.new-reservation-panel .panel-title {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
}

.new-reservation-panel .panel-ticket {
    font-weight: 600;
    font-size: 16px;
}

.new-reservation-panel .panel-date {
    font-size: 12px;
    opacity: 0.8;
}

/* =============================================================================
   COLLAPSED BAR - Vertical strip on left edge, always visible when collapsed
   ============================================================================= */

.new-reservation-panel .collapsed-bar {
    position: absolute;
    left: 0;
    top: 0;
    width: 48px;
    height: 100%;
    background: var(--color-cromad);
    display: none; /* Hidden by default */
    flex-direction: column;
    align-items: center;
    padding-top: 16px;
    padding-bottom: 16px;
    gap: 12px;
    z-index: 100;
    border-radius: 12px 0 0 12px !important;
}

/* Show collapsed bar ONLY when panel is open AND collapsed (tablet+) */
@media (min-width: 768px) {
    .new-reservation-panel.open.collapsed .collapsed-bar {
        display: flex;
    }
}

/* =============================================================================
   COLLAPSE TOGGLE - TOUCH FRIENDLY
   ============================================================================= */

.new-reservation-panel .collapse-toggle {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.15);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    transition: all 0.2s ease;
    font-size: 14px;
    flex-shrink: 0;
}

.new-reservation-panel .collapse-toggle:hover {
    background: rgba(255, 255, 255, 0.25);
}

.new-reservation-panel .collapse-toggle:active {
    background: rgba(255, 255, 255, 0.35);
}

.new-reservation-panel.collapsed .collapse-toggle i {
    transform: rotate(180deg);
}

/* =============================================================================
   BODY - Scrollable content area
   ============================================================================= */
.new-reservation-panel .panel-body {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-4);
    background: var(--color-background);
}

/* =============================================================================
   SECTIONS - Consistent with ReservationPanel
   ============================================================================= */
.new-reservation-panel .panel-section {
    background: var(--color-accent);
    border-radius: var(--border-radius-lg);
    padding: var(--space-3);
    margin-bottom: var(--space-4);
}

.new-reservation-panel .panel-section-title {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-weight: 600;
    font-size: 13px;
    color: var(--color-secondary);
    margin-bottom: var(--space-3);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.new-reservation-panel .panel-section-title i {
    color: var(--color-primary);
    font-size: 14px;
}

/* =============================================================================
   FURNITURE SECTION
   ============================================================================= */
.new-reservation-panel .furniture-chips {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    margin-bottom: var(--space-2);
}

.new-reservation-panel .furniture-chip {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: 6px 12px;
    background: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-full);
    font-size: 13px;
    font-weight: 500;
}

.new-reservation-panel .furniture-summary {
    font-size: 12px;
    color: var(--color-text-muted);
}

/* Capacity warning when guest count exceeds furniture capacity */
.new-reservation-panel .capacity-warning {
    display: none;
    flex-direction: column;
    gap: var(--space-2);
    margin-top: var(--space-3);
    padding: var(--space-3);
    background: rgba(229, 163, 61, 0.1);
    border: 1px solid var(--color-warning, #E5A33D);
    border-radius: var(--border-radius-md);
    font-size: 13px;
    color: var(--color-text);
}

.new-reservation-panel .capacity-warning i {
    color: var(--color-warning, #E5A33D);
    font-size: 16px;
    flex-shrink: 0;
}

.new-reservation-panel .capacity-warning strong {
    font-weight: 600;
    color: var(--color-secondary);
}

.new-reservation-panel .btn-add-furniture {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1);
    padding: var(--space-2) var(--space-3);
    background: var(--color-warning, #E5A33D);
    border: none;
    border-radius: var(--border-radius-md);
    color: white;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
    align-self: flex-start;
    margin-top: var(--space-1);
}

.new-reservation-panel .btn-add-furniture:hover {
    background: var(--color-warning-dark, #c78a2a);
    transform: translateY(-1px);
}

.new-reservation-panel .btn-add-furniture:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(229, 163, 61, 0.3);
}

/* =============================================================================
   CUSTOMER SECTION - Uses shared CustomerSearch component (customer-search.css)
   ============================================================================= */
.new-reservation-panel .customer-search-wrapper {
    position: relative;
}

.new-reservation-panel .customer-search-wrapper input {
    width: 100%;
    padding: var(--space-3);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-lg);
    font-size: 14px;
}

.new-reservation-panel .customer-search-wrapper input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(206, 182, 119, 0.1);
}

/* Selected Customer Display - Compact Layout */
.new-reservation-panel .customer-selected-display {
    background: var(--color-white);
    border-radius: var(--border-radius-md);
    padding: var(--space-3);
    border: 1px solid var(--color-border);
}

.new-reservation-panel .customer-display-compact {
    display: flex;
    align-items: flex-start;
}

.new-reservation-panel .customer-main-info {
    flex: 1;
    min-width: 0;
}

.new-reservation-panel .customer-main-info .customer-name {
    font-size: 16px;
    font-weight: 600;
    color: var(--color-secondary, #1A3A5C);
    line-height: 1.3;
    word-wrap: break-word;
}

.new-reservation-panel .customer-main-info .customer-meta {
    margin-top: 4px;
    font-size: 13px;
    color: var(--color-text, #333);
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 4px;
}

.new-reservation-panel .customer-meta .badge {
    font-size: 10px;
    padding: 2px 6px;
    font-weight: 600;
}

.new-reservation-panel .customer-meta .vip-badge {
    color: var(--color-warning, #E5A33D);
}

/* Customer Details - Inline compact layout */
.new-reservation-panel .customer-details-inline {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--space-2);
    margin-top: var(--space-2);
    padding-top: var(--space-2);
    border-top: 1px solid var(--color-border);
    font-size: 12px;
    color: var(--color-text-muted, #6c757d);
}

.new-reservation-panel .detail-inline {
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.new-reservation-panel .detail-inline i {
    color: var(--color-primary, #D4AF37);
    font-size: 11px;
}

.new-reservation-panel .detail-inline .detail-separator {
    color: var(--color-text-muted);
    margin: 0 2px;
}

/* Guest Selector for hotel rooms with multiple guests - Compact */
.new-reservation-panel .guest-selector-wrapper {
    margin-top: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: rgba(26, 26, 26, 0.05);
    border-radius: var(--border-radius-md);
    border: 1px solid var(--color-border);
}

.new-reservation-panel .guest-selector-row {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.new-reservation-panel .guest-selector-row i {
    color: var(--color-primary);
    font-size: 13px;
    flex-shrink: 0;
}

.new-reservation-panel .guest-count-text {
    font-size: 12px;
    color: var(--color-text-muted);
    white-space: nowrap;
    flex-shrink: 0;
}

.new-reservation-panel .guest-selector-row select {
    flex: 1;
    min-width: 0;
    font-size: 13px;
    padding: 4px 8px;
}

/* Inline Create Customer Form */
.new-reservation-panel .create-customer-inline {
    background: var(--color-white);
    border: 2px solid var(--color-primary);
    border-radius: var(--border-radius-md);
    overflow: hidden;
}

.new-reservation-panel .create-form-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-2) var(--space-3);
    background: var(--color-primary);
    color: white;
    font-size: 13px;
    font-weight: 600;
}

.new-reservation-panel .create-form-header i {
    margin-right: 6px;
}

.new-reservation-panel .create-form-cancel {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    padding: 4px 8px;
    opacity: 0.8;
    transition: opacity 0.15s;
}

.new-reservation-panel .create-form-cancel:hover {
    opacity: 1;
}

.new-reservation-panel .create-form-body {
    padding: var(--space-3);
}

.new-reservation-panel .create-form-row {
    display: flex;
    gap: var(--space-2);
    margin-bottom: var(--space-2);
}

.new-reservation-panel .create-form-group {
    flex: 1;
    min-width: 0;
}

.new-reservation-panel .create-form-group label {
    display: block;
    font-size: 11px;
    font-weight: 600;
    color: var(--color-text-muted);
    margin-bottom: 4px;
    text-transform: uppercase;
}

.new-reservation-panel .create-form-error {
    padding: var(--space-2);
    margin-bottom: var(--space-2);
    background: rgba(193, 68, 79, 0.1);
    border: 1px solid var(--color-error);
    border-radius: var(--border-radius-sm);
    font-size: 12px;
    color: var(--color-error);
}

/* =============================================================================
   DATE SECTION - Uses shared DatePicker component (date-picker.css)
   ============================================================================= */

/* =============================================================================
   DETAILS SECTION
   ============================================================================= */
.new-reservation-panel .details-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-3);
}

.new-reservation-panel .detail-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
}

.new-reservation-panel .detail-label {
    font-size: 12px;
    color: var(--color-text-muted);
}

.new-reservation-panel .detail-input {
    width: 100%;
    padding: var(--space-2) var(--space-3);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    font-size: 14px;
}

.new-reservation-panel .notes-textarea {
    width: 100%;
    min-height: 80px;
    padding: var(--space-2) var(--space-3);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    font-size: 14px;
    resize: vertical;
}

/* =============================================================================
   PREFERENCES SECTION
   ============================================================================= */
.new-reservation-panel .preference-chips {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.new-reservation-panel .pref-chip {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: 8px 12px;
    background: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-full);
    font-size: 12px;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.new-reservation-panel .pref-chip:hover {
    border-color: var(--color-primary);
}

.new-reservation-panel .pref-chip:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(206, 182, 119, 0.2);
}

.new-reservation-panel .pref-chip:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

.new-reservation-panel .pref-chip.active {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: var(--color-white);
}

.new-reservation-panel .pref-chip i {
    font-size: 11px;
}

/* Tag Chips */
.new-reservation-panel .tag-chips {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.new-reservation-panel .tag-chip {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: 8px 12px;
    background: var(--color-white);
    border: 1px solid var(--tag-color, var(--color-border));
    border-radius: var(--border-radius-full);
    font-size: 12px;
    color: var(--tag-color, var(--color-text-secondary));
    cursor: pointer;
    transition: all var(--transition-fast);
}

.new-reservation-panel .tag-chip:hover {
    border-color: var(--tag-color, var(--color-primary));
}

.new-reservation-panel .tag-chip:focus {
    outline: none;
    border-color: var(--tag-color, var(--color-primary));
}

.new-reservation-panel .tag-chip:focus-visible {
    outline: 2px solid var(--tag-color, var(--color-primary));
    outline-offset: 2px;
}

.new-reservation-panel .tag-chip.active {
    background: var(--tag-color, var(--color-primary));
    border-color: var(--tag-color, var(--color-primary));
    color: var(--color-white);
}

.new-reservation-panel .tag-chip i {
    font-size: 11px;
}

/* =============================================================================
   FOOTER
   ============================================================================= */
.new-reservation-panel .panel-footer {
    display: flex;
    gap: var(--space-3);
    padding: var(--space-3) var(--space-4);
    padding-bottom: max(var(--space-3), env(safe-area-inset-bottom));
    background: var(--color-white);
    border-top: 1px solid var(--color-border);
    flex-shrink: 0;
}

.new-reservation-panel .panel-cancel-btn {
    flex: 1;
    padding: var(--space-3);
    background: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-lg);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.new-reservation-panel .panel-cancel-btn:hover {
    background: var(--color-background);
}

.new-reservation-panel .panel-save-btn {
    flex: 2;
    padding: var(--space-3);
    background: var(--color-primary);
    border: none;
    border-radius: var(--border-radius-lg);
    color: var(--color-white);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.new-reservation-panel .panel-save-btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(206, 182, 119, 0.2);
}

.new-reservation-panel .panel-save-btn:hover:not(:disabled) {
    opacity: 0.9;
    transform: translateY(-1px);
}

.new-reservation-panel .panel-save-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.new-reservation-panel .save-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
}

/* =============================================================================
   MINIMIZED STATE (during conflict resolution)
   ============================================================================= */

.new-reservation-panel.minimized {
    transform: translateX(calc(100% - 50px));
    pointer-events: none;
}

.new-reservation-panel.minimized::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 50px;
    background: var(--color-primary);
    opacity: 0.95;
    pointer-events: auto;
    cursor: pointer;
}

.new-reservation-panel.minimized::after {
    content: 'Seleccionando alternativa...';
    position: absolute;
    left: 25px;
    top: 50%;
    transform: rotate(-90deg) translateX(-50%);
    transform-origin: left center;
    white-space: nowrap;
    font-size: 12px;
    font-weight: 600;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    pointer-events: none;
}

/* =============================================================================
   CONFLICT RESOLUTION - Highlighting blocked furniture
   ============================================================================= */
.furniture-item.conflict-blocked rect,
.furniture-item.conflict-blocked ellipse,
.furniture-item.conflict-blocked circle {
    stroke: var(--color-error, #C1444F) !important;
    stroke-width: 4px !important;
    animation: conflict-pulse 1.5s infinite;
}

@keyframes conflict-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
}

.furniture-item.conflict-blocked {
    will-change: opacity;
}

/* =============================================================================
   CONFLICT RESOLUTION - Instruction panel
   ============================================================================= */
.conflict-instruction-panel {
    position: fixed;
    top: 70px;
    left: 50%;
    transform: translateX(-50%);
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    z-index: calc(var(--z-modal, 400) + 50);
    max-width: 320px;
    width: 90%;
}

.conflict-instruction-header {
    background: var(--color-warning, #E5A33D);
    color: white;
    padding: 10px 16px;
    border-radius: 12px 12px 0 0;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.conflict-instruction-body {
    padding: 16px;
    text-align: center;
}

.conflict-instruction-body p {
    margin: 0 0 12px 0;
    font-size: 14px;
    color: var(--color-text, #1A3A5C);
}

.conflict-selection-counter {
    font-size: 1.1rem;
    margin: 12px 0;
}

.conflict-selection-counter strong {
    color: var(--color-primary, #D4AF37);
}

.conflict-replacing-list {
    font-size: 12px;
    color: var(--color-text-muted, #6c757d);
    margin-top: 8px;
}

@media (max-width: 768px) {
    .new-reservation-panel.minimized {
        transform: translateY(calc(100% - 60px));
    }

    .new-reservation-panel.minimized::before {
        left: 0;
        right: 0;
        top: 0;
        bottom: auto;
        width: auto;
        height: 60px;
        background: var(--color-primary);
        opacity: 0.95;
    }

    .new-reservation-panel.minimized::after {
        left: 50%;
        top: 30px;
        transform: translateX(-50%);
    }
}

/* =============================================================================
   SG-02: AVAILABILITY WARNING
   ============================================================================= */
.new-reservation-panel .availability-warning {
    display: none;
    align-items: center;
    gap: var(--space-2);
    margin-top: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: rgba(193, 68, 79, 0.1);
    border: 1px solid var(--color-error);
    border-radius: var(--border-radius-md);
    font-size: 12px;
    color: var(--color-error);
}

.new-reservation-panel .availability-warning i {
    flex-shrink: 0;
    font-size: 14px;
}

.new-reservation-panel .availability-warning strong {
    font-weight: 600;
}

/* =============================================================================
   SG-06: CHARGE TO ROOM OPTION
   ============================================================================= */
.new-reservation-panel .charge-to-room-wrapper {
    margin-top: var(--space-2);
}

.new-reservation-panel .charge-to-room-check {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: rgba(26, 26, 26, 0.05);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.new-reservation-panel .charge-to-room-check:hover {
    background: rgba(26, 26, 26, 0.1);
    border-color: var(--color-secondary);
}

.new-reservation-panel .charge-to-room-check .form-check-input {
    margin: 0;
    cursor: pointer;
}

.new-reservation-panel .charge-to-room-check .form-check-input:checked {
    background-color: var(--color-secondary);
    border-color: var(--color-secondary);
}

.new-reservation-panel .charge-to-room-check .form-check-label {
    cursor: pointer;
    font-size: 13px;
    color: var(--color-secondary);
}

/* =============================================================================
   QUICK SWAP MODAL
   ============================================================================= */
.quick-swap-modal {
    position: fixed;
    inset: 0;
    z-index: calc(var(--z-modal, 400) + 70);
    display: flex;
    align-items: center;
    justify-content: center;
}

.quick-swap-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(26, 26, 26, 0.6);
    -webkit-backdrop-filter: blur(2px);
    backdrop-filter: blur(2px);
}

.quick-swap-content {
    position: relative;
    width: 90%;
    max-width: 360px;
    background: white;
    border-radius: var(--border-radius-xl, 16px);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    overflow: hidden;
}

.quick-swap-header {
    display: flex;
    align-items: center;
    gap: var(--space-2, 8px);
    padding: 14px 16px;
    background: var(--color-warning, #E5A33D);
    color: white;
    font-weight: 600;
    font-size: 15px;
}

.quick-swap-header i {
    font-size: 18px;
}

.quick-swap-body {
    padding: 16px;
}

.quick-swap-body p {
    margin: 0 0 12px 0;
    font-size: 14px;
    color: var(--color-text, #1A3A5C);
}

.quick-swap-reservation-info {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px;
    background: var(--color-background, #f8f9fa);
    border-radius: var(--border-radius-md, 8px);
    margin-bottom: 12px;
}

.quick-swap-customer,
.quick-swap-furniture {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
}

.quick-swap-customer i,
.quick-swap-furniture i {
    color: var(--color-primary, #D4AF37);
    width: 18px;
    text-align: center;
}

.quick-swap-instruction {
    font-size: 13px;
    color: var(--color-text-muted, #6c757d);
}

.quick-swap-footer {
    display: flex;
    gap: 10px;
    padding: 12px 16px;
    border-top: 1px solid var(--color-border, #dee2e6);
    background: var(--color-background, #f8f9fa);
}

.quick-swap-footer .btn {
    flex: 1;
    padding: 10px;
    font-size: 14px;
}

/* Quick swap in "select destination" mode */
.quick-swap-modal.selecting-destination .quick-swap-content {
    max-width: 300px;
}

.quick-swap-modal.selecting-destination .quick-swap-footer {
    display: none;
}

/* Furniture highlighted as swap source */
.furniture-item.swap-source rect,
.furniture-item.swap-source ellipse,
.furniture-item.swap-source circle {
    stroke: var(--color-warning, #E5A33D) !important;
    stroke-width: 4px !important;
    animation: swap-pulse 1s infinite;
}

@keyframes swap-pulse {
    0%, 100% { stroke-opacity: 1; }
    50% { stroke-opacity: 0.5; }
}

.furniture-item.swap-source {
    will-change: stroke-opacity;
}

/* =============================================================================
   PRICING SECTION
   ============================================================================= */
.pricing-section .pricing-display {
    margin-top: var(--space-3);
}

.pricing-section .pricing-loading {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    color: var(--color-text-muted);
    font-size: 14px;
    padding: var(--space-3);
}

.pricing-section .pricing-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.pricing-section .pricing-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-2) 0;
}

.pricing-section .pricing-row.pricing-amount {
    border-top: 2px solid var(--color-secondary);
    padding-top: var(--space-3);
    margin-top: var(--space-2);
}

.pricing-section .pricing-label {
    font-size: 14px;
    color: var(--color-text);
    font-weight: 500;
}

.pricing-section .pricing-value {
    font-size: 16px;
    font-weight: 600;
    transition: color 0.3s ease;
}

.pricing-section .pricing-amount .pricing-value {
    font-size: 20px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Editable Price Input */
.pricing-section .pricing-display-group {
    width: 100%;
}

.pricing-section .pricing-display-group .detail-label {
    display: block;
    margin-bottom: var(--space-2);
    font-size: 13px;
    font-weight: 500;
    color: var(--color-text, #1F2937);
}

.pricing-section .pricing-input-group {
    position: relative;
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.pricing-section .pricing-currency {
    position: absolute;
    left: 12px;
    font-size: 18px;
    font-weight: 700;  /* Increased from 600 for better contrast on white background */
    color: var(--color-primary, #D4AF37);
    pointer-events: none;
    z-index: 1;
}

.pricing-section .pricing-input {
    flex: 1;
    padding: 10px 12px 10px 28px;
    font-size: 18px;
    font-weight: 600;
    color: var(--color-primary, #D4AF37);
    background: white;
    border: 2px solid rgba(26, 26, 26, 0.15);
    border-radius: 8px;
    transition: all 0.2s ease;
}

.pricing-section .pricing-input:hover {
    border-color: var(--color-primary, #D4AF37);
    background: rgba(245, 230, 211, 0.1);
}

.pricing-section .pricing-input:focus {
    outline: none;
    border-color: var(--color-primary, #D4AF37);
    box-shadow: 0 0 0 3px rgba(206, 182, 119, 0.15);
    background: white;
}

.pricing-section .pricing-input.modified {
    border-color: var(--color-warning, #E5A33D);
    background: rgba(229, 163, 61, 0.05);
}

.pricing-section .pricing-reset-btn {
    padding: 8px 12px;
    background: rgba(26, 26, 26, 0.08);
    border: 1px solid rgba(26, 26, 26, 0.15);
    border-radius: 6px;
    color: var(--color-text, #1F2937);
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 14px;
}

.pricing-section .pricing-reset-btn:hover {
    background: var(--color-primary, #D4AF37);
    border-color: var(--color-primary, #D4AF37);
    color: white;
    transform: scale(1.05);
}

.pricing-section .pricing-calculated {
    margin-top: var(--space-2);
    padding: var(--space-2);
    background: rgba(26, 26, 26, 0.05);
    border-left: 3px solid var(--color-primary, #D4AF37);
    border-radius: 4px;
    font-size: 12px;
    color: var(--color-text-muted, #6B7280);
}

.pricing-section .pricing-calculated .calculated-amount {
    font-weight: 600;
    color: var(--color-text, #1F2937);
}

.pricing-section .pricing-breakdown {
    font-size: 13px;
    color: var(--color-text-muted);
    padding: var(--space-2);
    background: rgba(26, 26, 26, 0.05);
    border-radius: var(--border-radius);
    margin-top: var(--space-2);
    transition: all 0.3s ease;
    opacity: 1;
}

/* Animacin cuando el precio actualiza */
@keyframes priceUpdate {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); color: var(--color-primary); }
    100% { transform: scale(1); }
}

.pricing-section .pricing-amount .pricing-value.updating {
    animation: priceUpdate 0.4s ease;
}

/* Responsive: Mobile adjustments for pricing section */
@media (max-width: 480px) {
    .pricing-section .pricing-input-group {
        flex-wrap: wrap;
        gap: var(--space-3);
    }

    .pricing-section .pricing-reset-btn {
        width: 100%;
        margin-top: var(--space-1);
    }

    .pricing-section .pricing-currency {
        font-size: 16px;
    }

    .pricing-section .pricing-input {
        font-size: 16px;
    }
}

.pricing-section .pricing-type {
    background: var(--color-primary-light, #F5E6D3);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--border-radius);
    margin-bottom: var(--space-2);
}

.pricing-section .pricing-type .pricing-label {
    color: var(--color-primary);
    font-weight: 600;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.pricing-section .pricing-type .pricing-value {
    color: var(--color-primary);
    font-size: 14px;
}

/* Pricing Type Selector - Compact Dropdown */
.pricing-section .pricing-type-selector {
    margin-bottom: var(--space-4);
}

.pricing-section .pricing-type-selector .detail-label {
    display: block;
    margin-bottom: var(--space-2);
    font-size: 13px;
    font-weight: 500;
    color: var(--color-text, #1F2937);
}

.pricing-section .pricing-select {
    width: 100%;
    padding: 10px 12px;
    font-size: 14px;
    font-weight: 400;
    color: var(--color-text, #1F2937);
    background-color: white;
    border: 1.5px solid rgba(26, 26, 26, 0.2);
    border-radius: 8px;
    transition: all 0.2s ease;
    cursor: pointer;
}

.pricing-section .pricing-select:hover {
    border-color: var(--color-primary, #D4AF37);
    background-color: rgba(245, 230, 211, 0.3);
}

.pricing-section .pricing-select:focus {
    outline: none;
    border-color: var(--color-primary, #D4AF37);
    box-shadow: 0 0 0 3px rgba(206, 182, 119, 0.15);
    background-color: white;
}

.pricing-section .pricing-select option {
    padding: 8px;
    font-size: 14px;
}

.pricing-section .pricing-select option[value=""] {
    font-weight: 500;
}


/* --- conflict-resolution-modal.css --- */
/**
 * ConflictResolutionModal - Styles
 *
 * Modal for handling multi-day reservation conflicts.
 * Follows Beach Club design system.
 */

/* =============================================================================
   MODAL CONTAINER
   ============================================================================= */

.conflict-modal {
    position: fixed;
    inset: 0;
    z-index: calc(var(--z-modal, 400) + 60);
    display: none;
    align-items: center;
    justify-content: center;
}

.conflict-modal.open {
    display: flex;
}

.conflict-modal.minimized {
    display: none;
}

/* Backdrop */
.conflict-modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(26, 58, 92, 0.6);
    -webkit-backdrop-filter: blur(2px);
    backdrop-filter: blur(2px);
}

/* =============================================================================
   MODAL CONTENT
   ============================================================================= */

.conflict-modal-content {
    position: relative;
    width: 95%;
    max-width: 500px;
    max-height: 80vh;
    background: var(--color-surface, #fff);
    border-radius: var(--border-radius-xl, 16px);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Header */
.conflict-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    background: linear-gradient(135deg, var(--color-secondary, #1A3A5C) 0%, #2a4a6c 100%);
    color: white;
}

.conflict-modal-header h3 {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
    display: flex;
    align-items: center;
}

/* Ensure h3 inherits white color from header */
.conflict-modal-header h3,
.conflict-modal-header h3 * {
    color: inherit;
}

.conflict-modal-close {
    background: none;
    border: none;
    color: white;
    font-size: 1.2rem;
    cursor: pointer;
    padding: 10px 12px;
    border-radius: 4px;
    transition: background 0.2s;
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.conflict-modal-close:hover {
    background: rgba(255, 255, 255, 0.1);
}

/* Body */
.conflict-modal-body {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
}

.conflict-intro {
    margin: 0 0 16px 0;
    color: var(--color-text-muted, #6c757d);
    font-size: 0.9rem;
    line-height: 1.5;
}

/* Footer */
.conflict-modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    padding: 16px 20px;
    border-top: 1px solid var(--color-border, #dee2e6);
    background: var(--color-background, #f8f9fa);
}

/* =============================================================================
   CONFLICT LIST
   ============================================================================= */

.conflict-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Empty state */
.conflict-empty {
    text-align: center;
    padding: 24px;
    color: var(--color-success, #4A7C59);
}

.conflict-empty i {
    font-size: 2rem;
    margin-bottom: 8px;
}

.conflict-empty p {
    margin: 0;
    font-size: 0.95rem;
}

/* Date group */
.conflict-date-group {
    border: 1px solid var(--color-border, #dee2e6);
    border-radius: var(--border-radius-lg, 12px);
    padding: 12px;
    background: var(--color-surface, #fff);
    transition: all 0.2s;
}

.conflict-date-group.resolved {
    border-color: var(--color-success, #4A7C59);
    background: rgba(74, 124, 89, 0.05);
}

/* Date header */
.conflict-date-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.conflict-date {
    font-weight: 600;
    color: var(--color-text, #1A3A5C);
    font-size: 0.95rem;
}

/* Conflict items */
.conflict-items {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 12px;
}

.conflict-item {
    display: flex;
    flex-direction: column;
    gap: 2px;
    padding: 8px 10px;
    background: var(--color-background, #f8f9fa);
    border-radius: var(--border-radius-md, 8px);
    font-size: 0.85rem;
}

.conflict-furniture {
    font-weight: 500;
    color: var(--color-text, #1A3A5C);
}

.conflict-blocker {
    color: var(--color-text-muted, #6c757d);
    font-size: 0.8rem;
}

/* Action buttons */
.conflict-actions {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.conflict-actions .btn {
    flex: 1;
    min-width: 120px;
    min-height: 44px; /* Touch target size */
}

.conflict-actions .btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.3);
}

.conflict-actions .btn:focus-visible {
    outline: 2px solid var(--color-primary, #D4AF37);
    outline-offset: 2px;
}

/* =============================================================================
   SUMMARY
   ============================================================================= */

.conflict-summary {
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px dashed var(--color-border, #dee2e6);
}

.conflict-summary-success,
.conflict-summary-pending {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    border-radius: var(--border-radius-md, 8px);
    font-size: 0.9rem;
}

.conflict-summary-success {
    background: rgba(74, 124, 89, 0.1);
    color: var(--color-success, #4A7C59);
}

.conflict-summary-pending {
    background: rgba(229, 163, 61, 0.1);
    color: var(--color-warning-dark, #b87d1a);
}

/* =============================================================================
   RESPONSIVE
   ============================================================================= */

@media (max-width: 576px) {
    .conflict-modal-content {
        width: 100%;
        height: 100%;
        max-height: 100vh;
        border-radius: 0;
    }

    .conflict-modal-body {
        flex: 1;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    .conflict-modal-footer {
        padding: 12px 16px;
        padding-bottom: max(12px, env(safe-area-inset-bottom));
    }

    .conflict-actions {
        flex-direction: column;
    }

    .conflict-actions .btn {
        width: 100%;
        padding: 10px;
        font-size: 0.95rem;
    }
}

/* =============================================================================
   BUTTON STATES
   ============================================================================= */

.conflict-retry-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.navigate-to-day-btn {
    border-color: var(--color-primary, #D4AF37);
    color: var(--color-primary, #D4AF37);
}

.navigate-to-day-btn:hover {
    background: var(--color-primary, #D4AF37);
    border-color: var(--color-primary, #D4AF37);
    color: white;
}

.navigate-to-day-btn:focus {
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.3);
}

.remove-day-btn {
    border-color: var(--color-error, #C1444F);
    color: var(--color-error, #C1444F);
}

.remove-day-btn:hover {
    background: var(--color-error, #C1444F);
    border-color: var(--color-error, #C1444F);
    color: white;
}

.remove-day-btn:focus {
    box-shadow: 0 0 0 3px rgba(193, 68, 79, 0.3);
}


/* --- safeguard-modal.css --- */
/**
 * Safeguard Modal Styles
 * Warning modals for reservation validation
 */

/* Backdrop */
.safeguard-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(26, 58, 92, 0.6);
    -webkit-backdrop-filter: blur(2px);
    backdrop-filter: blur(2px);
    z-index: var(--z-modal-backdrop, 9998);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease;
}

.safeguard-backdrop.show {
    opacity: 1;
    visibility: visible;
}

/* Modal Container */
.safeguard-modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.9);
    width: 90%;
    max-width: 420px;
    background: var(--color-white, #ffffff);
    border-radius: var(--border-radius-xl, 16px);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    z-index: var(--z-modal, 9999);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s ease;
    overflow: hidden;
}

.safeguard-modal.open {
    opacity: 1;
    visibility: visible;
    transform: translate(-50%, -50%) scale(1);
}

/* Header */
.safeguard-modal-header {
    display: flex;
    align-items: center;
    gap: var(--space-3, 12px);
    padding: var(--space-4, 16px);
    background: var(--color-warning, #E5A33D);
    color: var(--color-white, #ffffff);
}

.safeguard-modal-header.error {
    background: var(--color-error, #C1444F);
}

.safeguard-modal-header.info {
    background: var(--color-info, #3B82F6);
}

.safeguard-modal-header.success {
    background: var(--color-success, #4A7C59);
}

.safeguard-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    flex-shrink: 0;
}

.safeguard-icon i {
    font-size: 20px;
}

.safeguard-title-group {
    flex: 1;
    min-width: 0;
}

.safeguard-title {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
    line-height: 1.3;
}

.safeguard-code {
    display: inline-block;
    margin-top: 2px;
    padding: 2px 6px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.safeguard-close {
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: 50%;
    color: inherit;
    cursor: pointer;
    transition: background 0.15s ease;
}

.safeguard-close:hover {
    background: rgba(255, 255, 255, 0.25);
}

/* Body */
.safeguard-modal-body {
    padding: var(--space-4, 16px);
    max-height: 50vh;
    overflow-y: auto;
}

.safeguard-message {
    font-size: 14px;
    line-height: 1.6;
    color: var(--color-text, #333);
}

.safeguard-message p {
    margin: 0 0 var(--space-3, 12px) 0;
}

.safeguard-message p:last-child {
    margin-bottom: 0;
}

.safeguard-question {
    font-weight: 500;
    color: var(--color-secondary, #1A3A5C);
}

/* Detail Box */
.safeguard-detail-box {
    background: var(--color-accent, #F5E6D3);
    border-radius: var(--border-radius-lg, 12px);
    padding: var(--space-3, 12px);
    margin: var(--space-3, 12px) 0;
}

.safeguard-detail-box.error {
    background: #FEE2E2;
    border: 1px solid #FECACA;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-2, 8px) 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}

.detail-row:last-child {
    border-bottom: none;
}

.detail-row.highlight {
    background: rgba(229, 163, 61, 0.15);
    margin: 0 calc(-1 * var(--space-3, 12px));
    padding-left: var(--space-3, 12px);
    padding-right: var(--space-3, 12px);
    border-radius: var(--border-radius-md, 8px);
}

.detail-label {
    font-size: 13px;
    color: var(--color-text-muted, #666);
}

.detail-value {
    font-size: 14px;
    font-weight: 600;
    color: var(--color-secondary, #1A3A5C);
}

.detail-value.highlight {
    color: var(--color-warning, #E5A33D);
}

/* Past Dates List */
.past-dates-list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2, 8px);
}

.past-date {
    padding: 4px 10px;
    background: var(--color-error, #C1444F);
    color: white;
    border-radius: var(--border-radius-full, 999px);
    font-size: 13px;
    font-weight: 500;
}

/* Conflict Items */
.conflict-item {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2, 8px);
    padding: var(--space-2, 8px) 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    font-size: 13px;
}

.conflict-item:last-child {
    border-bottom: none;
}

.conflict-furniture {
    font-weight: 600;
    color: var(--color-secondary, #1A3A5C);
}

.conflict-date {
    padding: 2px 8px;
    background: var(--color-error, #C1444F);
    color: white;
    border-radius: var(--border-radius-full, 999px);
    font-size: 11px;
}

.conflict-reservation {
    color: var(--color-text-muted, #666);
    flex-basis: 100%;
}

/* Footer */
.safeguard-modal-footer {
    display: flex;
    gap: var(--space-2, 8px);
    padding: var(--space-3, 12px) var(--space-4, 16px);
    background: var(--color-light, #f8f9fa);
    border-top: 1px solid var(--color-border, #e0e0e0);
}

/* Buttons */
.safeguard-btn {
    flex: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2, 8px);
    padding: var(--space-3, 12px) var(--space-4, 16px);
    font-size: 14px;
    font-weight: 600;
    border: none;
    border-radius: var(--border-radius-lg, 12px);
    cursor: pointer;
    transition: all 0.15s ease;
}

.safeguard-btn i {
    font-size: 12px;
}

.safeguard-btn.primary {
    background: linear-gradient(135deg, var(--color-primary, #D4AF37), var(--color-primary-dark, #B8962F));
    color: var(--color-white, #ffffff);
    box-shadow: 0 2px 8px rgba(212, 175, 55, 0.3);
}

.safeguard-btn.primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(212, 175, 55, 0.4);
}

.safeguard-btn.secondary {
    background: var(--color-white, #ffffff);
    color: var(--color-text, #333);
    border: 1px solid var(--color-border, #e0e0e0);
}

.safeguard-btn.secondary:hover {
    background: var(--color-light, #f8f9fa);
}

.safeguard-btn.warning {
    background: var(--color-warning, #E5A33D);
    color: var(--color-white, #ffffff);
}

.safeguard-btn.warning:hover {
    background: #D4922C;
}

.safeguard-btn.outline {
    background: transparent;
    color: var(--color-secondary, #1A3A5C);
    border: 1px solid var(--color-secondary, #1A3A5C);
}

.safeguard-btn.outline:hover {
    background: var(--color-secondary, #1A3A5C);
    color: var(--color-white, #ffffff);
}

/* SG-07: Blocking Furniture List */
.blocking-list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-1, 4px);
    margin-top: var(--space-1, 4px);
}

.blocking-item {
    display: inline-block;
    padding: 3px 8px;
    background: var(--color-warning, #E5A33D);
    color: white;
    border-radius: var(--border-radius-full, 999px);
    font-size: 12px;
    font-weight: 500;
}

.no-blocking {
    font-style: italic;
    color: var(--color-text-muted, #666);
    font-size: 12px;
}

/* Safeguard Note */
.safeguard-note {
    display: flex;
    align-items: flex-start;
    gap: var(--space-2, 8px);
    padding: var(--space-2, 8px) var(--space-3, 12px);
    background: rgba(59, 130, 246, 0.1);
    border-radius: var(--border-radius-md, 8px);
    font-size: 13px;
    color: var(--color-info, #3B82F6);
}

.safeguard-note i {
    flex-shrink: 0;
    margin-top: 2px;
}

/* Mobile Responsive */
@media (max-width: 480px) {
    .safeguard-modal {
        width: 95%;
        max-width: none;
    }

    .safeguard-modal-footer {
        flex-direction: column;
    }

    .safeguard-btn {
        width: 100%;
    }
}


/* --- map-search.css --- */
/**
 * Map Search Component Styles
 * Beach Club Management System
 */

/* =============================================================================
   SEARCH WRAPPER (Toolbar Integration)
   ============================================================================= */

.map-search-wrapper {
    position: relative;
    min-width: 160px;
    max-width: 280px;
    flex: 1;
}

.map-search-input {
    width: 100%;
    padding: 7px 32px 7px 32px;
    border-radius: 16px;
    border: none;
    background: rgba(255, 255, 255, 0.15);
    color: white;
    font-size: 13px;
    transition: all 0.2s;
}

.map-search-input::placeholder {
    color: rgba(255, 255, 255, 0.6);
}

.map-search-input:focus {
    background: rgba(255, 255, 255, 0.25);
    outline: none;
    box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.4);
}

.map-search-icon {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: rgba(255, 255, 255, 0.6);
    font-size: 12px;
    pointer-events: none;
}

.map-search-clear {
    position: absolute;
    right: 2px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: rgba(255, 255, 255, 0.6);
    cursor: pointer;
    padding: 0;
    font-size: 11px;
    line-height: 1;
    border-radius: 50%;
    transition: all 0.15s;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.map-search-clear:hover {
    color: white;
    background: rgba(255, 255, 255, 0.15);
}

/* =============================================================================
   RESULTS DROPDOWN
   ============================================================================= */

.map-search-results {
    display: none;
    position: absolute;
    top: calc(100% + 6px);
    left: 0;
    right: 0;
    min-width: 280px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    z-index: 200;
    max-height: 350px;
    overflow-y: auto;
}

.map-search-results.show {
    display: block;
}

/* Section Headers */
.search-section {
    border-bottom: 1px solid #eee;
}

.search-section:last-child {
    border-bottom: none;
}

.search-section-header {
    padding: 8px 12px;
    background: var(--color-accent, #F5E6D3);
    font-size: 11px;
    font-weight: 600;
    color: var(--color-secondary, #1A3A5C);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: flex;
    align-items: center;
    gap: 6px;
}

.search-section-header i {
    font-size: 10px;
    opacity: 0.7;
}

/* Result Items */
.search-result-item {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    cursor: pointer;
    border-bottom: 1px solid #f0f0f0;
    transition: background 0.15s;
    gap: 10px;
}

.search-result-item:hover,
.search-result-item.active {
    background: var(--color-accent, #F5E6D3);
}

.search-result-item:last-child {
    border-bottom: none;
}

.search-result-furniture {
    font-weight: 600;
    color: var(--color-secondary, #1A3A5C);
    font-size: 13px;
    min-width: 50px;
}

.search-result-customer {
    flex: 1;
    font-size: 14px;
    color: #333;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.search-result-customer.available {
    color: var(--color-success, #4A7C59);
    font-style: italic;
}

.search-result-state {
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 10px;
    text-transform: uppercase;
    font-weight: 600;
    white-space: nowrap;
}

/* No Results */
.search-no-results {
    padding: 24px 16px;
    text-align: center;
    color: #999;
    font-size: 13px;
}

.search-no-results i {
    display: block;
    font-size: 24px;
    margin-bottom: 8px;
    opacity: 0.5;
}

/* Keyboard Hint */
.search-keyboard-hint {
    padding: 8px 12px;
    background: #f8f8f8;
    font-size: 11px;
    color: #888;
    text-align: center;
    border-top: 1px solid #eee;
}

.search-keyboard-hint kbd {
    background: #e8e8e8;
    padding: 1px 5px;
    border-radius: 3px;
    font-size: 10px;
    margin: 0 2px;
}

/* =============================================================================
   SEARCH HIGHLIGHT ANIMATION (on furniture)
   ============================================================================= */

.furniture-item.search-highlight {
    animation: searchPulse 0.6s ease-in-out 5;
}

.furniture-item.search-highlight rect,
.furniture-item.search-highlight circle,
.furniture-item.search-highlight ellipse,
.furniture-item.search-highlight polygon {
    stroke: var(--color-primary, #D4AF37) !important;
    stroke-width: 4px !important;
}

@keyframes searchPulse {
    0%, 100% {
        filter: drop-shadow(0 0 8px var(--color-primary, #D4AF37));
        transform: scale(1);
    }
    50% {
        filter: drop-shadow(0 0 16px var(--color-primary, #D4AF37));
        transform: scale(1.03);
    }
}

/* =============================================================================
   RESPONSIVE ADJUSTMENTS
   ============================================================================= */

/* Mobile: Smaller search */
@media (max-width: 576px) {
    .map-search-wrapper {
        min-width: 120px;
        max-width: 140px;
    }

    .map-search-input {
        font-size: 12px;
        padding: 6px 28px 6px 28px;
    }

    .map-search-results {
        position: fixed;
        left: 8px;
        right: 8px;
        top: 100px;
        min-width: auto;
        max-height: 60vh;
    }
}

/* Tablet+ */
@media (min-width: 768px) {
    .map-search-wrapper {
        min-width: 200px;
        max-width: 300px;
    }

    .map-search-input {
        font-size: 14px;
    }
}

/* =============================================================================
   SEARCH & FILTER GROUP
   ============================================================================= */

.search-filter-group {
    display: flex;
    align-items: center;
    gap: 8px;
}

/* =============================================================================
   INLINE FILTER DROPDOWNS
   ============================================================================= */

.map-filter-dropdowns {
    display: flex;
    align-items: center;
    gap: 6px;
}

.map-filter-select {
    background: rgba(255, 255, 255, 0.15);
    border: none;
    border-radius: 12px;
    color: rgba(255, 255, 255, 0.9);
    padding: 6px 10px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
    min-width: 70px;
    appearance: none;
    -webkit-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 4px center;
    background-size: 16px;
    padding-right: 22px;
}

.map-filter-select:hover {
    background-color: rgba(255, 255, 255, 0.25);
}

.map-filter-select:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.4);
}

/* Active filter state - gold highlight */
.map-filter-select.active {
    background: var(--color-primary, #D4AF37);
    color: white;
}

.map-filter-select option {
    background: white;
    color: var(--color-text, #1F2937);
    padding: 8px;
}

/* Clear filters button */
.map-filter-clear {
    background: rgba(255, 255, 255, 0.15);
    border: none;
    border-radius: 50%;
    color: rgba(255, 255, 255, 0.7);
    width: 44px;
    height: 44px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
}

.map-filter-clear:hover {
    background: rgba(193, 68, 79, 0.8);
    color: white;
}

/* =============================================================================
   GROUPED RESULT ITEMS (by reservation)
   ============================================================================= */

.search-result-item {
    flex-direction: column;
    align-items: stretch;
    gap: 4px;
}

.result-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
}

.result-customer-name {
    font-weight: 600;
    font-size: 14px;
    color: var(--color-secondary, #1A3A5C);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex: 1;
}

.result-customer-name i {
    margin-right: 6px;
    font-size: 12px;
    opacity: 0.7;
}

.result-state {
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 10px;
    text-transform: uppercase;
    font-weight: 600;
    white-space: nowrap;
    flex-shrink: 0;
}

.result-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    color: var(--color-text-secondary, #4B5563);
    padding-left: 20px;
}

.result-type {
    display: inline-flex;
    align-items: center;
    gap: 3px;
}

.result-type::after {
    content: '';
    margin-left: 5px;
}

.result-type:last-child::after {
    content: '';
    margin-left: 0;
}

.result-room {
    color: var(--color-secondary, #1A3A5C);
    font-weight: 500;
}

.result-room::after {
    content: '';
    margin-left: 5px;
    margin-right: -3px;
    font-weight: normal;
    color: var(--color-text-secondary, #4B5563);
}

.result-paid {
    display: inline-flex;
    align-items: center;
    gap: 3px;
}

.result-paid.paid {
    color: var(--color-success, #4A7C59);
}

.result-paid.unpaid {
    color: var(--color-warning, #E5A33D);
}

.result-furniture {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    color: var(--color-text-secondary, #4B5563);
    padding-left: 20px;
    margin-top: 2px;
}

.result-furniture i {
    color: var(--color-primary, #D4AF37);
    font-size: 11px;
}

.result-furniture-codes {
    font-weight: 600;
    color: var(--color-secondary, #1A3A5C);
}

/* =============================================================================
   RELEASED RESERVATION STYLING (Cancelada, No-Show, Liberada)
   ============================================================================= */

.search-result-item.released {
    opacity: 0.7;
    background: #f8f8f8;
}

.search-result-item.released:hover {
    opacity: 1;
    background: #f0f0f0;
}

.search-result-item.released .result-customer-name {
    color: var(--color-text-secondary, #4B5563);
}

.search-result-item.released .result-furniture-codes {
    text-decoration: line-through;
    color: var(--color-text-secondary, #4B5563);
}

.search-result-item.released .result-furniture::after {
    content: '(reserva cancelada)';
    font-size: 11px;
    font-style: italic;
    color: #999;
    margin-left: 4px;
}

/* External link icon for released reservations */
.search-result-item.released .result-header::after {
    content: '\f35d';
    font-family: 'Font Awesome 6 Free';
    font-weight: 900;
    font-size: 10px;
    color: var(--color-text-secondary, #4B5563);
    margin-left: 4px;
}

/* =============================================================================
   FILTER ACTIVE STATES IN RESULTS
   ============================================================================= */

.search-no-results .clear-filters-link {
    display: block;
    margin-top: 12px;
    color: var(--color-primary, #D4AF37);
    cursor: pointer;
    font-weight: 500;
    transition: color 0.15s;
}

.search-no-results .clear-filters-link:hover {
    color: var(--color-primary-dark, #B8960C);
    text-decoration: underline;
}

/* =============================================================================
   RESPONSIVE ADJUSTMENTS FOR FILTERS
   ============================================================================= */

@media (max-width: 576px) {
    .map-search-filter-popover {
        position: fixed;
        top: auto;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        border-radius: 16px 16px 0 0;
        max-height: 70vh;
    }

    .filter-popover-body {
        padding: 20px;
    }

    .filter-group select {
        padding: 12px 16px;
        font-size: 16px; /* Prevent iOS zoom */
    }
}


/* --- map-blocks.css --- */
/**
 * Map Blocks CSS
 * Styles for blocked furniture, context menu, and block modal
 *
 * Design System Colors:
 * - Primary Gold: #CEB677
 * - Deep Ocean: #1A3A5C
 * - Warm Sand: #F5E6D3
 * - Success: #4A7C59
 * - Error: #C1444F
 */

/* =============================================================================
   CSS VARIABLES (for z-index management)
   ============================================================================= */

:root {
    --z-context-menu: 1050; /* Above modals (Bootstrap modal is 1050) */
}

/* =============================================================================
   CONTEXT MENU
   ============================================================================= */

.furniture-context-menu {
    position: fixed;
    background: #FFFFFF;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    z-index: var(--z-context-menu);
    min-width: 180px;
    opacity: 0;
    visibility: hidden;
    transform: scale(0.95);
    transition: opacity 0.1s ease, transform 0.1s ease, visibility 0s;
    overflow: hidden;
}

.furniture-context-menu.visible {
    opacity: 1;
    visibility: visible;
    transform: scale(1);
}

.context-menu-header {
    background: var(--color-cromad);
    border-bottom: 3px solid var(--color-primary);
    color: #FFFFFF;
    padding: 10px 14px;
    font-size: 13px;
    font-weight: 600;
}

.context-menu-item {
    padding: 10px 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    color: #1F2937;
    font-size: 13px;
    transition: background 0.2s ease;
}

.context-menu-item:hover {
    background: #F5E6D3;
}

/* Focus states for keyboard accessibility */
.context-menu-item:focus {
    outline: 2px solid #CEB677;
    outline-offset: -2px;
    background: #F5E6D3;
}

.context-menu-item:focus-visible {
    outline: 2px solid #CEB677;
    outline-offset: -2px;
    background: #F5E6D3;
}

.context-menu-item i {
    width: 16px;
    color: #4B5563;
    font-size: 14px;
    text-align: center;
}

.context-menu-item.ctx-block i {
    color: #EF4444;
}

.context-menu-item.ctx-unblock i {
    color: #10B981;
}

.context-menu-item.ctx-view-block i {
    color: #3B82F6;
}

.context-menu-divider {
    height: 1px;
    background: #E8E8E8;
    margin: 4px 0;
}

/* =============================================================================
   BLOCK MODAL
   ============================================================================= */

#block-furniture-modal .modal-header {
    background: var(--color-cromad);
    border-bottom: 3px solid var(--color-primary);
    color: #FFFFFF;
    border-radius: 16px 16px 0 0;
}

#block-furniture-modal .modal-content {
    border-radius: 16px;
    border: none;
}

#block-furniture-modal .modal-footer {
    background: #FAFAFA;
    border-top: 1px solid #E8E8E8;
}

#block-furniture-modal .btn-close-white {
    filter: invert(1) brightness(2);
}

/* Block type select with color indicators */
.block-type-option {
    display: flex;
    align-items: center;
    gap: 8px;
}

.block-type-color {
    width: 12px;
    height: 12px;
    border-radius: 3px;
    display: inline-block;
}

/* Block furniture badges */
.block-furniture-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 8px;
}

.block-furniture-badge {
    background: #F3F4F6;
    border: 1px solid #E5E7EB;
    border-radius: 4px;
    padding: 4px 8px;
    font-size: 12px;
    color: #374151;
}

/* =============================================================================
   BLOCKED FURNITURE INDICATOR ON MAP
   ============================================================================= */

.furniture-item.blocked {
    opacity: 0.85;
}

.furniture-item.blocked:hover {
    opacity: 0.95;
}

/* Block legend items */
.legend-item.block-legend {
    border-left: 3px solid;
    padding-left: 8px;
    margin-left: 8px;
}

.legend-item.block-legend.maintenance {
    border-color: #9CA3AF;
}

.legend-item.block-legend.vip_hold {
    border-color: #CEB677;
}

.legend-item.block-legend.event {
    border-color: #3B82F6;
}

/* =============================================================================
   SELECTION PANEL BLOCK BUTTON
   ============================================================================= */

#block-selected-btn {
    color: #EF4444;
    border-color: #EF4444;
}

#block-selected-btn:hover {
    background: #FEE2E2;
    color: #DC2626;
    border-color: #DC2626;
}

#unblock-selected-btn {
    color: #10B981;
    border-color: #10B981;
}

#unblock-selected-btn:hover {
    background: #D1FAE5;
    color: #059669;
    border-color: #059669;
}

/* =============================================================================
   RESPONSIVE
   ============================================================================= */

@media (max-width: 768px) {
    .furniture-context-menu {
        min-width: 160px;
    }

    .context-menu-item {
        padding: 12px 14px;
        min-height: 44px;
    }
}

/* =============================================================================
   UNBLOCK MODAL
   ============================================================================= */

#unblock-furniture-modal .modal-content {
    border-radius: 16px;
    border: none;
}

#unblock-furniture-modal .unblock-modal-header {
    background: linear-gradient(135deg, #1A3A5C 0%, #2A4A6C 100%);
    color: #FFFFFF;
    border-radius: 16px 16px 0 0;
}

#unblock-furniture-modal .modal-footer {
    background: #FAFAFA;
    border-top: 1px solid #E8E8E8;
}

#unblock-furniture-modal .btn-close-white {
    filter: invert(1) brightness(2);
}

/* Radio button styling for unblock type selection */
#unblock-furniture-modal .form-check {
    padding: 12px 16px;
    padding-left: 40px;
    border: 2px solid #E8E8E8;
    border-radius: 8px;
    transition: all 0.2s ease;
    cursor: pointer;
}

#unblock-furniture-modal .form-check:hover {
    border-color: #CEB677;
    background: #FAFAFA;
}

#unblock-furniture-modal .form-check:has(.form-check-input:checked) {
    border-color: #CEB677;
    background: rgba(212, 175, 55, 0.08);
}

#unblock-furniture-modal .form-check-input:checked {
    background-color: #CEB677;
    border-color: #CEB677;
}

#unblock-furniture-modal .form-check-input:focus {
    border-color: #CEB677;
    box-shadow: 0 0 0 0.25rem rgba(212, 175, 55, 0.25);
}

#unblock-furniture-modal .form-check-label {
    cursor: pointer;
}


/* --- map-temporary.css --- */
/**
 * Map Temporary Furniture Styles
 * Visual styling for temporary furniture on the beach map
 */

/* =============================================================================
   TEMPORARY FURNITURE VISUAL DISTINCTION
   ============================================================================= */

/* Temporary furniture - dashed border */
.furniture-item.temporary rect,
.furniture-item.temporary ellipse,
.furniture-item.temporary circle {
    stroke-dasharray: 5 3;
    stroke: #0EA5E9 !important;
    stroke-width: 2;
}

/* Temporary furniture available state */
.furniture-item.temporary.available rect,
.furniture-item.temporary.available ellipse,
.furniture-item.temporary.available circle {
    fill: #E0F2FE;
}

/* Temporary furniture hover effect */
.furniture-item.temporary:hover rect,
.furniture-item.temporary:hover ellipse,
.furniture-item.temporary:hover circle {
    stroke: #0284C7 !important;
    filter: drop-shadow(0 0 4px rgba(14, 165, 233, 0.5));
}

/* Temporary badge indicator (T) */
.temp-indicator {
    font-size: 8px;
    font-weight: 700;
    fill: #0EA5E9;
}

/* =============================================================================
   MODAL STYLING
   ============================================================================= */

/* Create Temp Furniture Modal Header */
#temp-furniture-modal .modal-header {
    background: var(--color-cromad);
    border-bottom: 3px solid var(--color-primary);
    color: #FFFFFF;
    border-radius: 16px 16px 0 0;
}

#temp-furniture-modal .btn-close-white {
    filter: invert(1) brightness(2);
}

#temp-furniture-modal .modal-content {
    border-radius: 16px;
    border: none;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

#temp-furniture-modal .modal-footer {
    background: #FAFAFA;
    border-top: 1px solid #E8E8E8;
}

/* Delete Temp Furniture Modal Header */
#delete-temp-modal .modal-header {
    background: var(--color-error);
    border-bottom: 3px solid var(--color-error);
    color: #FFFFFF;
    border-radius: 16px 16px 0 0;
}

#delete-temp-modal .btn-close-white {
    filter: invert(1) brightness(2);
}

#delete-temp-modal .modal-content {
    border-radius: 16px;
    border: none;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

#delete-temp-modal .modal-footer {
    background: #FAFAFA;
    border-top: 1px solid #E8E8E8;
}

/* Radio button styling for delete type selection (matches unblock modal) */
#delete-temp-modal .form-check {
    padding: 12px 16px;
    padding-left: 40px;
    border: 2px solid #E8E8E8;
    border-radius: 8px;
    transition: all 0.2s ease;
    cursor: pointer;
}

#delete-temp-modal .form-check:hover {
    border-color: #CEB677;
    background: #FAFAFA;
}

#delete-temp-modal .form-check:has(.form-check-input:checked) {
    border-color: #CEB677;
    background: rgba(212, 175, 55, 0.08);
}

#delete-temp-modal .form-check-input:checked {
    background-color: #CEB677;
    border-color: #CEB677;
}

#delete-temp-modal .form-check-input:focus {
    border-color: #CEB677;
    box-shadow: 0 0 0 0.25rem rgba(212, 175, 55, 0.25);
}

#delete-temp-modal .form-check-label {
    cursor: pointer;
}

/* =============================================================================
   CONTEXT MENU ITEMS
   ============================================================================= */

/* Add temporary item icon */
.context-menu-item.ctx-add-temp i {
    color: #3B82F6;
}

.context-menu-item.ctx-add-temp:hover,
.context-menu-item.ctx-add-temp:focus {
    background: rgba(59, 130, 246, 0.1);
    outline: none;
}

.context-menu-item.ctx-add-temp:focus-visible {
    outline: 2px solid #3B82F6;
    outline-offset: -2px;
}

/* Delete temporary item icon */
.context-menu-item.ctx-delete-temp i {
    color: #EF4444;
}

.context-menu-item.ctx-delete-temp:hover,
.context-menu-item.ctx-delete-temp:focus {
    background: rgba(239, 68, 68, 0.1);
    outline: none;
}

.context-menu-item.ctx-delete-temp:focus-visible {
    outline: 2px solid #EF4444;
    outline-offset: -2px;
}

/* =============================================================================
   TOOLBAR BUTTON
   ============================================================================= */

#btn-add-temp-furniture {
    color: #3B82F6;
}

#btn-add-temp-furniture:hover {
    background: rgba(59, 130, 246, 0.2);
}

/* =============================================================================
   DRAG AND DROP STYLES
   ============================================================================= */

/* Design tokens for drag states */
.furniture-item.temporary {
    --drag-stroke-width: 3px;
    --drag-opacity: 0.85;
    --drag-glow-color: rgba(212, 175, 55, 0.6);
}

/* Move cursor for draggable temp furniture (not blocked) */
.furniture-item.temporary:not(.blocked) {
    cursor: move;
}

/* Blocked temp furniture - cannot drag */
.furniture-item.temporary.blocked {
    cursor: not-allowed;
}

/* Keyboard focus state for accessibility */
.furniture-item.temporary:focus-visible {
    outline: 2px solid #CEB677;
    outline-offset: 2px;
}

/* Dragging state - gold highlight from design system */
.furniture-item.temporary.dragging rect,
.furniture-item.temporary.dragging ellipse,
.furniture-item.temporary.dragging circle {
    stroke: #CEB677 !important;
    stroke-width: var(--drag-stroke-width);
    stroke-dasharray: 0;
    filter: drop-shadow(0 0 8px var(--drag-glow-color));
}

/* Reduce opacity slightly while dragging to show movement */
.furniture-item.temporary.dragging {
    opacity: var(--drag-opacity);
}

/* Prevent text selection during drag */
.furniture-item.temporary.dragging text {
    user-select: none;
    -webkit-user-select: none;
    pointer-events: none;
}

/* =============================================================================
   FORM STYLES
   ============================================================================= */

#temp-furniture-modal .form-label {
    font-size: 13px;
    font-weight: 500;
    color: #4B5563;
    margin-bottom: 4px;
}

#temp-furniture-modal .form-control,
#temp-furniture-modal .form-select {
    border: 2px solid #E8E8E8;
    border-radius: 8px;
    padding: 10px 12px;
    font-size: 14px;
}

#temp-furniture-modal .form-control:focus,
#temp-furniture-modal .form-select:focus {
    border-color: #CEB677;
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.15);
}

#temp-furniture-modal .form-text {
    font-size: 11px;
    color: #9CA3AF;
    margin-top: 2px;
}

/* Primary create button */
#confirm-temp-create-btn {
    background: linear-gradient(135deg, #CEB677 0%, #B8960C 100%);
    color: #FFFFFF;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    font-weight: 600;
}

#confirm-temp-create-btn:hover {
    background: linear-gradient(135deg, #E5C04A 0%, #C9A71D 100%);
    transform: translateY(-1px);
}

#confirm-temp-create-btn:disabled {
    opacity: 0.7;
    transform: none;
}

/* Delete button */
#confirm-temp-delete-btn {
    background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%);
    color: #FFFFFF;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    font-weight: 600;
}

#confirm-temp-delete-btn:hover {
    background: linear-gradient(135deg, #F87171 0%, #EF4444 100%);
    transform: translateY(-1px);
}

#confirm-temp-delete-btn:disabled {
    opacity: 0.7;
    transform: none;
}


/* --- waitlist.css --- */
/**
 * Waitlist Panel Styles
 * Slide-out panel for managing the beach club waitlist
 * Follows design system conventions (main.css)
 *
 * Uses CSS variables from main.css - NO hardcoded colors!
 */

/* =============================================================================
   BACKDROP
   ============================================================================= */
.waitlist-panel-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(26, 26, 26, 0.6);
    z-index: var(--z-modal-backdrop);
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-slow), visibility var(--transition-slow);
}

.waitlist-panel-backdrop.show {
    opacity: 1;
    visibility: visible;
}

/* =============================================================================
   PANEL CONTAINER
   ============================================================================= */
.waitlist-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: 100%;
    height: 100vh;
    height: 100dvh; /* Dynamic viewport height for mobile browsers */
    background: var(--color-white);
    z-index: var(--z-modal);
    display: flex;
    flex-direction: column;
    transform: translateX(100%);
    transition: transform var(--transition-slow) cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.08);
}

.waitlist-panel.open {
    transform: translateX(0);
}

/* Swipe indicator for mobile */
.waitlist-panel::before {
    content: '';
    position: absolute;
    top: var(--space-2);
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 4px;
    background: var(--color-medium-gray);
    border-radius: var(--border-radius-full);
    opacity: 0.5;
    z-index: 1;
}

/* Tablet: Side panel */
@media (min-width: 768px) {
    .waitlist-panel {
        width: 400px;
        top: 60px;
        height: calc(100vh - 80px);
        border-radius: 12px 0 0 12px;
    }

    .waitlist-panel.open.collapsed {
        transform: translateX(calc(100% - 48px));
    }

    /* Maintain rounded corners when collapsed */
    .waitlist-panel.collapsed {
        border-radius: 12px 0 0 12px !important;
        overflow: visible;
    }

    .waitlist-panel::before {
        display: none;
    }
}

/* Desktop: Slightly wider */
@media (min-width: 1200px) {
    .waitlist-panel {
        width: 420px;
    }
}

/* =============================================================================
   HEADER
   ============================================================================= */
.waitlist-panel .panel-header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: 16px 20px;
    padding-top: calc(16px + 8px);
    background: var(--color-cromad);
    border-bottom: 3px solid var(--color-primary);
    color: var(--color-white);
    flex-shrink: 0;
}

@media (min-width: 768px) {
    .waitlist-panel .panel-header {
        padding-top: var(--space-3);
        border-radius: 12px 0 0 0; /* Rounded top-left corner to match panel */
    }

    /* When collapsed, collapsed bar has the rounded edge */
    .waitlist-panel.open.collapsed .panel-header {
        border-radius: 0;
        display: none; /* Hide header when collapsed */
    }

    .waitlist-panel.open.collapsed .panel-body {
        display: none; /* Hide body when collapsed */
    }
}

.waitlist-panel .panel-close-btn,
.waitlist-panel .panel-add-btn {
    width: 44px;
    height: 44px;
    min-width: 44px;
    border-radius: var(--border-radius-full);
    border: none;
    background: rgba(255, 255, 255, 0.15);
    color: var(--color-white);
    font-size: 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background var(--transition-fast);
}

.waitlist-panel .panel-close-btn:hover,
.waitlist-panel .panel-add-btn:hover {
    background: rgba(255, 255, 255, 0.25);
}

.waitlist-panel .panel-add-btn {
    background: var(--color-primary);
}

.waitlist-panel .panel-add-btn:hover {
    background: var(--color-primary-light);
}

.waitlist-panel .panel-title {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-width: 0;
    text-align: center;
}

.waitlist-panel .panel-ticket {
    font-size: 18px;
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.waitlist-panel .panel-date {
    font-size: 13px;
    opacity: 0.8;
}

/* =============================================================================
   COLLAPSED BAR - Vertical strip on left edge, always visible when collapsed
   ============================================================================= */

.waitlist-panel .collapsed-bar {
    position: absolute;
    left: 0;
    top: 0;
    width: 48px;
    height: 100%;
    background: var(--color-cromad);
    display: none; /* Hidden by default */
    flex-direction: column;
    align-items: center;
    padding-top: 16px;
    padding-bottom: 16px;
    gap: 12px;
    z-index: 100;
    border-radius: 12px 0 0 12px !important;
}

/* Show collapsed bar ONLY when panel is open AND collapsed (tablet+) */
@media (min-width: 768px) {
    .waitlist-panel.open.collapsed .collapsed-bar {
        display: flex;
    }
}

/* =============================================================================
   COLLAPSE TOGGLE - TOUCH FRIENDLY
   ============================================================================= */

.waitlist-panel .collapse-toggle {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.15);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    transition: all 0.2s ease;
    font-size: 14px;
    flex-shrink: 0;
}

.waitlist-panel .collapse-toggle:hover {
    background: rgba(255, 255, 255, 0.25);
}

.waitlist-panel .collapse-toggle:active {
    background: rgba(255, 255, 255, 0.35);
}

.waitlist-panel.collapsed .collapse-toggle i {
    transform: rotate(180deg);
}

/* =============================================================================
   TABS
   ============================================================================= */
.waitlist-tabs {
    display: flex;
    border-bottom: 1px solid var(--color-border);
    background: var(--color-white);
    flex-shrink: 0;
}

.waitlist-tab {
    flex: 1;
    padding: var(--space-3) var(--space-4);
    background: transparent;
    border: none;
    border-bottom: 3px solid transparent;
    font-size: 14px;
    font-weight: 500;
    color: var(--color-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    transition: all var(--transition-fast);
}

.waitlist-tab:hover {
    color: var(--color-secondary);
    background: var(--color-accent);
}

.waitlist-tab.active {
    color: var(--color-primary);
    border-bottom-color: var(--color-primary);
}

.waitlist-tab .tab-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    background: var(--color-medium-gray);
    color: var(--color-white);
    font-size: 11px;
    font-weight: 600;
    border-radius: var(--border-radius-full);
    transition: background var(--transition-fast);
}

.waitlist-tab.active .tab-badge {
    background: var(--color-primary);
}

/* =============================================================================
   BODY (Scrollable Content)
   ============================================================================= */
.waitlist-panel .panel-body {
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding: var(--space-4);
    background: var(--color-background);
    overscroll-behavior: contain;
}

/* Loading State */
.waitlist-panel .panel-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-12) 0;
    color: var(--color-text-muted);
    gap: var(--space-3);
}

.waitlist-panel .panel-loading .spinner-border {
    width: 32px;
    height: 32px;
    border-width: 3px;
    color: var(--color-primary);
}

/* Tab Content */
.waitlist-tab-content {
    display: none;
}

.waitlist-tab-content.active {
    display: block;
}

/* =============================================================================
   WAITLIST ENTRIES
   ============================================================================= */
.waitlist-entries {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

/* Entry Card */
.waitlist-entry {
    background: var(--color-white);
    border-radius: var(--border-radius-lg);
    border: 1px solid var(--color-border);
    overflow: hidden;
    transition: all var(--transition-fast);
}

.waitlist-entry:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
}

/* Entry Header */
.waitlist-entry-header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    background: var(--color-accent);
    border-bottom: 1px solid var(--color-border);
}

.waitlist-entry-priority {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-primary);
    color: var(--color-white);
    font-size: 14px;
    font-weight: 700;
    border-radius: var(--border-radius-full);
    flex-shrink: 0;
}

.waitlist-entry-customer {
    flex: 1;
    min-width: 0;
}

.waitlist-entry-name {
    font-size: 15px;
    font-weight: 600;
    color: var(--color-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.waitlist-entry-meta {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: 12px;
    color: var(--color-text-muted);
    margin-top: 2px;
}

.waitlist-entry-meta i {
    font-size: 10px;
    color: var(--color-primary);
}

/* Entry Status Badge */
.waitlist-entry-status {
    padding: 4px 10px;
    border-radius: var(--border-radius-full);
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    flex-shrink: 0;
}

.waitlist-entry-status.status-waiting {
    background: #FEF3C7;
    color: #92400E;
}

.waitlist-entry-status.status-contacted {
    background: #DBEAFE;
    color: #1E40AF;
}

.waitlist-entry-status.status-confirmed {
    background: #D1FAE5;
    color: #065F46;
}

.waitlist-entry-status.status-converted {
    background: var(--color-primary);
    color: var(--color-white);
}

.waitlist-entry-status.status-expired {
    background: #F3F4F6;
    color: #4B5563;
}

.waitlist-entry-status.status-cancelled {
    background: #FEE2E2;
    color: #991B1B;
}

.waitlist-entry-status.status-no_show {
    background: #FCE7F3;
    color: #9D174D;
}

/* Entry Body */
.waitlist-entry-body {
    padding: var(--space-3);
}

.waitlist-entry-details {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2) var(--space-4);
    margin-bottom: var(--space-3);
}

.waitlist-entry-detail {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    font-size: 13px;
    color: var(--color-text-secondary);
}

.waitlist-entry-detail i {
    color: var(--color-primary);
    font-size: 12px;
    width: 16px;
    text-align: center;
}

/* Entry Preferences */
.waitlist-entry-preferences {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-1);
    margin-bottom: var(--space-3);
}

.waitlist-pref-chip {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 3px 8px;
    background: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-full);
    font-size: 11px;
    color: var(--color-text-secondary);
}

.waitlist-pref-chip i {
    font-size: 10px;
    color: var(--color-primary);
}

/* Entry Notes */
.waitlist-entry-notes {
    padding: var(--space-2);
    background: var(--color-background);
    border-radius: var(--border-radius-md);
    font-size: 12px;
    color: var(--color-text-muted);
    font-style: italic;
    margin-bottom: var(--space-3);
}

/* Entry Actions */
.waitlist-entry-actions {
    display: flex;
    gap: var(--space-2);
    padding-top: var(--space-2);
    border-top: 1px solid var(--color-border);
}

.waitlist-entry-actions .btn-action {
    flex: 1;
    padding: var(--space-2);
    background: transparent;
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    font-size: 12px;
    font-weight: 500;
    color: var(--color-text-secondary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1);
    transition: all var(--transition-fast);
}

.waitlist-entry-actions .btn-action:hover {
    background: var(--color-accent);
    border-color: var(--color-primary);
    color: var(--color-primary);
}

.waitlist-entry-actions .btn-action.btn-convert {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: var(--color-white);
}

.waitlist-entry-actions .btn-action.btn-convert:hover {
    background: var(--color-primary-dark);
}

.waitlist-entry-actions .btn-action.btn-danger {
    color: var(--color-error);
    border-color: var(--color-error);
}

.waitlist-entry-actions .btn-action.btn-danger:hover {
    background: var(--color-error);
    color: var(--color-white);
}

/* =============================================================================
   EMPTY STATE
   ============================================================================= */
.waitlist-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-12) var(--space-4);
    text-align: center;
}

.waitlist-empty i {
    font-size: 48px;
    color: var(--color-medium-gray);
    margin-bottom: var(--space-4);
}

.waitlist-empty p {
    font-size: 16px;
    font-weight: 600;
    color: var(--color-text-secondary);
    margin: 0 0 var(--space-2) 0;
}

.waitlist-empty .empty-hint {
    font-size: 13px;
    color: var(--color-text-muted);
}

/* =============================================================================
   FOOTER
   ============================================================================= */
.waitlist-panel .panel-footer {
    padding: var(--space-3) var(--space-4);
    padding-bottom: max(var(--space-3), env(safe-area-inset-bottom));
    border-top: 1px solid var(--color-border);
    background: var(--color-white);
    flex-shrink: 0;
}

.waitlist-panel .btn-add-entry {
    width: 100%;
    padding: var(--space-3);
    min-height: 48px;
    background: var(--color-primary);
    border: none;
    border-radius: var(--border-radius-lg);
    color: var(--color-white);
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
}

.waitlist-panel .btn-add-entry:hover {
    opacity: 0.9;
    transform: translateY(-1px);
}

/* =============================================================================
   ADD ENTRY MODAL
   ============================================================================= */
.waitlist-modal {
    position: fixed;
    inset: 0;
    z-index: calc(var(--z-modal) + 10);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-4);
}

.waitlist-modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(26, 26, 26, 0.7);
    -webkit-backdrop-filter: blur(4px);
    backdrop-filter: blur(4px);
}

.waitlist-modal-content {
    position: relative;
    width: 100%;
    max-width: 500px;
    max-height: 90vh;
    background: var(--color-white);
    border-radius: var(--border-radius-xl);
    box-shadow: var(--shadow-xl);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Modal Header */
.waitlist-modal .modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px;
    background: var(--color-cromad);
    border-bottom: 3px solid var(--color-primary);
    color: var(--color-white);
    flex-shrink: 0;
}

.waitlist-modal .modal-title {
    font-size: 18px;
    font-weight: 600;
    margin: 0;
    display: flex;
    align-items: center;
}

.waitlist-modal .modal-close-btn {
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.15);
    border: none;
    border-radius: var(--border-radius-full);
    color: var(--color-white);
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background var(--transition-fast);
}

.waitlist-modal .modal-close-btn:hover {
    background: rgba(255, 255, 255, 0.25);
}

/* Modal Body */
.waitlist-modal .modal-body {
    flex: 1;
    padding: var(--space-4);
    overflow-y: auto;
}

/* Form Groups */
.waitlist-modal .form-group {
    margin-bottom: var(--space-4);
}

.waitlist-modal .form-label {
    display: block;
    font-size: 13px;
    font-weight: 600;
    color: var(--color-text-secondary);
    margin-bottom: var(--space-2);
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.waitlist-modal .form-control,
.waitlist-modal .form-select {
    width: 100%;
    padding: var(--space-3);
    border: 2px solid var(--color-border);
    border-radius: var(--border-radius-md);
    font-size: 14px;
    color: var(--color-text);
    background: var(--color-white);
    transition: all var(--transition-fast);
}

.waitlist-modal .form-control:focus,
.waitlist-modal .form-select:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(206, 182, 119, 0.15);
}

.waitlist-modal .form-control::placeholder {
    color: var(--color-text-muted);
}

/* Form Row (side by side) */
.waitlist-modal .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-3);
}

@media (max-width: 480px) {
    .waitlist-modal .form-row {
        grid-template-columns: 1fr;
    }
}

/* Customer Type Toggle */
.waitlist-modal .btn-group-toggle {
    display: flex;
    gap: var(--space-2);
}

.waitlist-modal .toggle-btn {
    flex: 1;
    padding: var(--space-3);
    background: var(--color-white);
    border: 2px solid var(--color-border);
    border-radius: var(--border-radius-md);
    font-size: 14px;
    font-weight: 500;
    color: var(--color-text-secondary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
}

.waitlist-modal .toggle-btn:hover {
    border-color: var(--color-primary);
    background: var(--color-accent);
}

.waitlist-modal .toggle-btn.active {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: var(--color-white);
}

/* Room/Customer Search */
.waitlist-modal .room-search-wrapper,
.waitlist-modal .customer-search-wrapper {
    position: relative;
}

.waitlist-modal .room-search-results,
.waitlist-modal .customer-search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-md);
    box-shadow: var(--shadow-lg);
    max-height: 200px;
    overflow-y: auto;
    z-index: 10;
    margin-top: var(--space-1);
    display: none;
}

.waitlist-modal .room-search-results.show,
.waitlist-modal .customer-search-results.show {
    display: block;
}

/* Selected Guest/Customer Display */
.waitlist-modal .selected-guest,
.waitlist-modal .selected-customer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-3);
    background: var(--color-accent);
    border: 2px solid var(--color-primary);
    border-radius: var(--border-radius-md);
    margin-top: var(--space-2);
}

.waitlist-modal .guest-info,
.waitlist-modal .customer-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.waitlist-modal .guest-name,
.waitlist-modal .customer-name {
    font-size: 15px;
    font-weight: 600;
    color: var(--color-secondary);
}

.waitlist-modal .guest-room,
.waitlist-modal .customer-phone {
    font-size: 12px;
    color: var(--color-text-muted);
}

.waitlist-modal .btn-clear-guest,
.waitlist-modal .btn-clear-customer {
    width: 28px;
    height: 28px;
    background: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-full);
    color: var(--color-text-muted);
    font-size: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
}

.waitlist-modal .btn-clear-guest:hover,
.waitlist-modal .btn-clear-customer:hover {
    background: var(--color-error);
    border-color: var(--color-error);
    color: var(--color-white);
}

/* Create Customer Button */
.waitlist-modal .btn-create-customer {
    margin-top: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: transparent;
    border: 1px dashed var(--color-primary);
    border-radius: var(--border-radius-md);
    color: var(--color-primary);
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    transition: all var(--transition-fast);
}

.waitlist-modal .btn-create-customer:hover {
    background: var(--color-accent);
    border-style: solid;
}

/* Reservation Type Options */
.waitlist-modal .reservation-type-options {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.waitlist-modal .radio-option {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    background: var(--color-white);
    border: 2px solid var(--color-border);
    border-radius: var(--border-radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.waitlist-modal .radio-option:hover {
    border-color: var(--color-primary);
    background: var(--color-accent);
}

.waitlist-modal .radio-option input[type="radio"] {
    accent-color: var(--color-primary);
    width: 18px;
    height: 18px;
}

.waitlist-modal .radio-option input[type="radio"]:checked + .radio-label {
    color: var(--color-primary);
    font-weight: 600;
}

.waitlist-modal .radio-label {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: 14px;
    color: var(--color-text-secondary);
}

.waitlist-modal .radio-label i {
    color: var(--color-primary);
    width: 18px;
    text-align: center;
}

/* Notes Textarea */
.waitlist-modal .notes-textarea {
    min-height: 80px;
    resize: vertical;
    font-family: inherit;
}

/* Modal Footer */
.waitlist-modal .modal-footer {
    display: flex;
    gap: var(--space-3);
    padding: var(--space-4);
    background: var(--color-background);
    border-top: 1px solid var(--color-border);
    flex-shrink: 0;
}

.waitlist-modal .btn-cancel {
    flex: 1;
    padding: var(--space-3);
    min-height: 48px;
    background: var(--color-white);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-lg);
    color: var(--color-text-muted);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.waitlist-modal .btn-cancel:hover {
    background: var(--color-light-gray);
}

.waitlist-modal .btn-save {
    flex: 2;
    padding: var(--space-3);
    min-height: 48px;
    background: var(--color-primary);
    border: none;
    border-radius: var(--border-radius-lg);
    color: var(--color-white);
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
}

.waitlist-modal .btn-save:hover:not(:disabled) {
    opacity: 0.9;
    transform: translateY(-1px);
}

.waitlist-modal .btn-save:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.waitlist-modal .save-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
}

.waitlist-modal .save-loading .spinner-border {
    width: 16px;
    height: 16px;
    border-width: 2px;
}

/* =============================================================================
   RESPONSIVE - MOBILE FULL WIDTH MODAL
   ============================================================================= */
@media (max-width: 576px) {
    .waitlist-modal {
        padding: 0;
    }

    .waitlist-modal-content {
        max-width: 100%;
        max-height: 100%;
        height: 100%;
        border-radius: 0;
    }

    .waitlist-modal .modal-body {
        padding: var(--space-3);
    }

    .waitlist-modal .modal-footer {
        padding: var(--space-3);
        padding-bottom: max(var(--space-3), env(safe-area-inset-bottom));
    }
}

/* =============================================================================
   ANIMATIONS
   ============================================================================= */
@keyframes slideInRight {
    from {
        transform: translateX(100%);
    }
    to {
        transform: translateX(0);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.waitlist-modal-content {
    animation: fadeIn var(--transition-slow) ease;
}

/* Entry appear animation */
.waitlist-entry {
    animation: fadeIn var(--transition-normal) ease;
}

/* =============================================================================
   TOUCH GESTURES
   ============================================================================= */
.waitlist-panel.dragging {
    transition: none;
}

/* =============================================================================
   HISTORY ENTRY STYLING
   ============================================================================= */
.waitlist-entry.history-entry {
    opacity: 0.9;
}

.waitlist-entry.history-entry .waitlist-entry-header {
    background: var(--color-light-gray);
}

.waitlist-entry.history-entry .waitlist-entry-priority {
    background: var(--color-medium-gray);
}

/* Converted entries - show success styling */
.waitlist-entry.history-entry.converted {
    border-color: var(--color-success);
}

.waitlist-entry.history-entry.converted .waitlist-entry-header {
    background: #D1FAE5;
}

.waitlist-entry.history-entry.converted .waitlist-entry-priority {
    background: var(--color-success);
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */
.waitlist-panel .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
}


/* --- offline.css --- */
/**
 * Offline Functionality Styles
 * Uses PuroBeach Design System variables
 */

/* =============================================================================
   OFFLINE BANNER
   ============================================================================= */

.offline-banner {
    position: fixed;
    top: 0;
    left: var(--sidebar-width);
    right: 0;
    background: linear-gradient(135deg, var(--color-warning) 0%, #CC8C2E 100%);
    color: var(--color-white);
    padding: var(--space-3) var(--space-6);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-3);
    font-weight: 600;
    font-size: 14px;
    z-index: var(--z-sticky);
    box-shadow: var(--shadow-md);
    transform: translateY(-100%);
    transition: transform var(--transition-normal);
}

.offline-banner.visible {
    transform: translateY(0);
}

.offline-banner i {
    font-size: 16px;
}

/* Adjust content when banner is visible */
.offline-mode .map-page {
    padding-top: 44px;
}

/* Collapsed sidebar support */
html.sidebar-collapsed .offline-banner {
    left: var(--sidebar-collapsed-width);
}

/* =============================================================================
   SYNC BUTTON
   ============================================================================= */

.sync-button {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: 4px 10px;
    border-radius: var(--border-radius-full);
    font-size: 12px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: var(--transition-normal);
}

/* Synced state - success green */
.sync-button.synced {
    background: rgba(74, 124, 89, 0.15);
    color: var(--color-success);
}

.sync-button.synced:hover {
    background: rgba(74, 124, 89, 0.25);
}

/* Syncing state - primary gold with animation */
.sync-button.syncing {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
    color: var(--color-white);
    cursor: wait;
}

.sync-button.syncing i {
    animation: spin 1s linear infinite;
}

/* Stale state - secondary outline */
.sync-button.stale {
    background: var(--color-white);
    color: var(--color-secondary);
    border: 1px solid var(--color-primary);
}

.sync-button.stale:hover {
    background: rgba(212, 175, 55, 0.1);
}

/* Offline state - disabled */
.sync-button.offline {
    background: var(--color-light-gray);
    color: var(--color-medium-gray);
    cursor: not-allowed;
    opacity: 0.7;
}

/* =============================================================================
   DISABLED ACTIONS (OFFLINE MODE)
   ============================================================================= */

.offline-disabled {
    opacity: 0.5;
    pointer-events: none;
    cursor: not-allowed;
    position: relative;
}

.offline-disabled::after {
    content: '';
    position: absolute;
    inset: 0;
    cursor: not-allowed;
}

/* Specific elements to disable */
.offline-mode #newReservationBtn,
.offline-mode .btn-new-reservation,
.offline-mode .reservation-panel .btn-save,
.offline-mode .reservation-panel .btn-edit {
    opacity: 0.5;
    pointer-events: none;
    cursor: not-allowed;
}

/* =============================================================================
   TOAST STYLES FOR OFFLINE
   ============================================================================= */

.toast-offline {
    background: var(--color-warning);
    color: var(--color-white);
}

.toast-online {
    background: var(--color-success);
    color: var(--color-white);
}


/* --- move-mode.css --- */
/**
 * Move Mode Styles
 * Styles for the move mode feature including panel, cards, and map overlays
 */

/* =============================================================================
   CSS VARIABLES
   ============================================================================= */

:root {
    --move-mode-primary: #CEB677;
    --move-mode-secondary: #1A1A1A;
    --move-mode-accent: #EEE5D3;
    --move-mode-success: #55996D;
    --move-mode-warning: #E5A33D;
    --move-mode-panel-width: 320px;
    --move-mode-transition: 0.3s ease;
}

/* =============================================================================
   MAP MOVE MODE STATE
   ============================================================================= */

.beach-map-container.move-mode-active {
    border: 3px solid var(--move-mode-primary);
    border-radius: 8px;
}

.beach-map-container.move-mode-active::before {
    content: 'MODO MOVER';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    background: var(--move-mode-primary);
    color: var(--move-mode-secondary);
    padding: 4px 16px;
    font-size: 12px;
    font-weight: 600;
    border-radius: 0 0 8px 8px;
    z-index: 100;
}

/* =============================================================================
   MOVE MODE PANEL CONTAINER - RESPONSIVE
   ============================================================================= */

#moveModePanel {
    position: fixed;
    top: 0;
    right: 0;
    width: 100%;
    height: 100vh;
    height: 100dvh; /* Dynamic viewport for mobile */
    background: white;
    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.08);
    z-index: 1050;
    display: flex;
    flex-direction: column;
    transform: translateX(100%);
    transition: transform var(--move-mode-transition) cubic-bezier(0.4, 0, 0.2, 1);
}

#moveModePanel.visible {
    transform: translateX(0);
}

#moveModePanel.visible.collapsed {
    transform: translateX(calc(100% - 48px));
}

/* Swipe indicator for mobile */
#moveModePanel::before {
    content: '';
    position: absolute;
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 4px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 2px;
    z-index: 10;
}

/* Tablet: Fixed width panel */
@media (min-width: 768px) {
    #moveModePanel {
        width: 400px;
        top: 60px;
        height: calc(100vh - 80px);
        border-radius: 12px 0 0 12px;
    }

    #moveModePanel.visible.collapsed {
        transform: translateX(calc(100% - 48px));
    }

    #moveModePanel::before {
        display: none;
    }
}

/* Desktop: Slightly wider */
@media (min-width: 1200px) {
    #moveModePanel {
        width: 420px;
    }
}

/* =============================================================================
   COLLAPSED BAR - Vertical strip on left edge, always visible when collapsed
   ============================================================================= */

#moveModePanel .collapsed-bar {
    position: absolute;
    left: 0;
    top: 0;
    width: 48px;
    height: 100%;
    background: var(--move-mode-secondary);
    display: none; /* Hidden by default */
    flex-direction: column;
    align-items: center;
    padding-top: 16px;
    padding-bottom: 16px;
    gap: 12px;
    z-index: 5;
    border-radius: 12px 0 0 12px;
}

/* Show collapsed bar ONLY when panel is visible AND collapsed (tablet+) */
@media (min-width: 768px) {
    #moveModePanel.visible.collapsed .collapsed-bar {
        display: flex;
    }
}

/* =============================================================================
   COLLAPSE TOGGLE - TOUCH FRIENDLY
   ============================================================================= */

#moveModePanel .collapse-toggle {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.15);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    transition: all 0.2s ease;
    font-size: 14px;
    flex-shrink: 0;
}

#moveModePanel .collapse-toggle:hover {
    background: rgba(255, 255, 255, 0.25);
}

#moveModePanel .collapse-toggle:active {
    background: rgba(255, 255, 255, 0.35);
}

#moveModePanel.collapsed .collapse-toggle i {
    transform: rotate(180deg);
}

/* =============================================================================
   COLLAPSED THUMBNAILS - Mini-cards inside the collapsed bar
   ============================================================================= */

.collapsed-thumbnails {
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
    width: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    flex: 1;
    padding: 4px 0;
}

/* Individual thumbnail mini-card */
.collapsed-thumbnail {
    position: relative;
    width: 40px;
    height: 48px;
    background: white;
    border-radius: 6px;
    border: 2px solid var(--move-mode-primary);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 2px;
    box-shadow: -1px 0 4px rgba(0, 0, 0, 0.08);
    cursor: pointer;
    transition: all var(--move-mode-transition);
}

.collapsed-thumbnail:hover {
    transform: scale(1.05);
    box-shadow: -2px 0 6px rgba(0, 0, 0, 0.12);
}

.collapsed-thumbnail:active {
    transform: scale(0.98);
}

.collapsed-thumbnail:focus-visible {
    outline: 2px solid var(--move-mode-primary);
    outline-offset: 2px;
}

/* Person count number */
.collapsed-thumbnail .person-count {
    font-size: 16px;
    font-weight: 700;
    color: var(--move-mode-secondary);
    line-height: 1;
}

/* Mini progress dots */
.collapsed-thumbnail .mini-progress {
    display: flex;
    gap: 2px;
}

.collapsed-thumbnail .mini-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #E8E8E8;
    border: 1px solid #E8E8E8;
}

.collapsed-thumbnail .mini-dot.filled {
    background: var(--move-mode-success);
    border-color: var(--move-mode-success);
}

/* VIP indicator */
.collapsed-thumbnail.is-vip {
    border-color: var(--move-mode-primary);
    background: #FEF3C7;
}

.collapsed-thumbnail .vip-star {
    position: absolute;
    top: -6px;
    right: -6px;
    font-size: 12px;
    color: var(--move-mode-primary);
    background: white;
    border-radius: 50%;
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* "+N more" badge */
.collapsed-thumbnail.more-badge {
    background: var(--move-mode-accent);
    border-color: var(--move-mode-secondary);
    font-size: 13px;
    font-weight: 600;
    color: var(--move-mode-secondary);
    height: 36px;
}

.collapsed-thumbnail.more-badge:hover {
    background: #e8d9c3;
}

/* Selected thumbnail state */
.collapsed-thumbnail.selected {
    border-color: var(--move-mode-primary);
    border-width: 2px;
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.3);
    transform: scale(1.08);
}

.collapsed-thumbnail.selected:hover {
    transform: scale(1.08);
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.3);
}

/* Enhanced collapsed thumbnail when selected - Issue #5 */
.collapsed-thumbnail.selected {
    min-width: 80px;
    padding: 4px 8px;
}

.collapsed-thumbnail .selected-info {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 10px;
    line-height: 1.2;
    margin-top: 2px;
}

.collapsed-thumbnail .selected-name {
    color: var(--move-mode-secondary);
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 60px;
}

.collapsed-thumbnail .selected-room {
    color: var(--move-mode-primary);
    font-weight: 500;
    font-size: 9px;
}

/* Completed thumbnail state - brief flash before removal */
.collapsed-thumbnail.is-complete {
    border-color: var(--move-mode-success);
    background: #D1FAE5;
    animation: complete-pulse 0.6s ease-out;
}

.collapsed-thumbnail.is-complete .person-count {
    color: var(--move-mode-success);
}

.collapsed-thumbnail.is-complete .mini-dot.filled {
    background: var(--move-mode-success);
    border-color: var(--move-mode-success);
}

@keyframes complete-pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.15); }
    100% { transform: scale(1); opacity: 0.8; }
}

/* =============================================================================
   COLLAPSED BAR TOOLTIP
   ============================================================================= */

.collapsed-bar-tooltip {
    position: fixed;
    display: none;
    background: var(--move-mode-secondary);
    color: white;
    padding: 10px 14px;
    border-radius: 8px;
    font-size: 12px;
    max-width: 200px;
    z-index: 1100;
    pointer-events: none;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    line-height: 1.4;
    opacity: 0.98;
    animation: tooltipFadeIn 0.15s ease;
}

@keyframes tooltipFadeIn {
    from { opacity: 0; transform: translateX(10px); }
    to { opacity: 0.98; transform: translateX(0); }
}

.collapsed-bar-tooltip .tooltip-name {
    font-weight: 600;
    font-size: 13px;
    margin-bottom: 4px;
    color: white;
}

.collapsed-bar-tooltip .tooltip-room {
    font-size: 11px;
    color: var(--move-mode-accent);
    margin-bottom: 2px;
}

.collapsed-bar-tooltip .tooltip-progress {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 6px;
}

.collapsed-bar-tooltip .tooltip-preferences {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 6px;
}

.collapsed-bar-tooltip .tooltip-pref-icon {
    width: 22px;
    height: 22px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    color: var(--move-mode-primary);
}

/* Mobile: show "tap to dismiss" hint */
.collapsed-bar-tooltip .tooltip-dismiss-hint {
    font-size: 10px;
    color: rgba(255, 255, 255, 0.6);
    margin-top: 8px;
    text-align: center;
    display: none;
}

@media (hover: none) {
    .collapsed-bar-tooltip .tooltip-dismiss-hint {
        display: block;
    }
}

/* Tooltip arrow pointing right (toward the collapsed bar) */
.collapsed-bar-tooltip::after {
    content: '';
    position: absolute;
    right: -8px;
    top: 50%;
    transform: translateY(-50%);
    border-width: 8px;
    border-style: solid;
    border-color: transparent transparent transparent var(--move-mode-secondary);
}

/* Tooltip positioned above - arrow points down */
.collapsed-bar-tooltip.above::after {
    right: auto;
    left: 50%;
    top: auto;
    bottom: -8px;
    transform: translateX(-50%);
    border-color: var(--move-mode-secondary) transparent transparent transparent;
}

/* =============================================================================
   PANEL STRUCTURE
   ============================================================================= */

.move-mode-panel {
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* Only add margin when collapsed (to make room for collapsed bar) */
@media (min-width: 768px) {
    #moveModePanel.visible.collapsed .move-mode-panel {
        margin-left: 48px;
    }
}

.move-mode-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 20px;
    padding-top: 20px; /* Space for swipe indicator on mobile */
    background: var(--move-mode-secondary);
    border-bottom: 3px solid var(--move-mode-primary);
    min-height: 60px;
    flex-shrink: 0;
}

@media (min-width: 768px) {
    .move-mode-panel-header {
        padding-top: 12px;
        border-radius: 12px 0 0 0; /* Rounded top-left corner */
    }

    /* When collapsed, collapsed bar has the rounded edge */
    #moveModePanel.visible.collapsed .move-mode-panel-header {
        border-radius: 0;
    }
}

.move-mode-panel-header h5 {
    margin: 0;
    font-size: 15px;
    font-weight: 600;
    color: white;
    display: flex;
    align-items: center;
    gap: 8px;
}

.move-mode-panel-header h5 i {
    color: var(--move-mode-primary);
}

.move-mode-panel-header .badge {
    background: var(--move-mode-primary) !important;
    color: var(--move-mode-secondary) !important;
    font-weight: 700;
}

/* Close button - 44px touch target */
.move-mode-panel-header .btn {
    width: 44px;
    height: 44px;
    min-width: 44px;
    padding: 0;
    border-radius: 50%;
    border: none;
    background: rgba(255, 255, 255, 0.15);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s ease;
}

.move-mode-panel-header .btn:hover {
    background: rgba(255, 255, 255, 0.25);
}

.move-mode-panel-header .btn:active {
    background: rgba(255, 255, 255, 0.35);
}

/* Header actions container */
.move-mode-panel-header .header-actions {
    display: flex;
    align-items: center;
    gap: 8px;
}

/* Collapse button in header - hidden on mobile, visible on tablet+ */
.move-mode-panel-header .collapse-btn {
    display: none;
}

@media (min-width: 768px) {
    .move-mode-panel-header .collapse-btn {
        display: flex;
    }

    /* Hide header collapse button when panel is collapsed (collapsed bar has its own) */
    #moveModePanel.collapsed .move-mode-panel-header .collapse-btn {
        display: none;
    }
}

/* =============================================================================
   FILTERS
   ============================================================================= */

.move-mode-filters {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    background: #f8f9fa;
    border-bottom: 1px solid #E8E8E8;
    gap: 8px;
}

.filter-group {
    display: flex;
    gap: 2px;
}

.filter-btn {
    padding: 8px 12px;
    font-size: 10px;
    font-weight: 500;
    border: 1px solid #E8E8E8;
    background: white;
    color: #6B7280;
    cursor: pointer;
    transition: all 0.15s ease;
    min-height: 44px;
    display: flex;
    align-items: center;
}

.filter-btn:first-child {
    border-radius: 4px 0 0 4px;
}

.filter-btn:last-child {
    border-radius: 0 4px 4px 0;
}

.filter-btn:hover {
    background: #f3f4f6;
}

.filter-btn.active {
    background: var(--move-mode-secondary);
    color: white;
    border-color: var(--move-mode-secondary);
}

.filter-toggles {
    display: flex;
    gap: 6px;
}

.filter-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 26px;
    height: 26px;
    border: 1px solid #E8E8E8;
    border-radius: 4px;
    background: white;
    color: #9CA3AF;
    cursor: pointer;
    transition: all 0.15s ease;
    font-size: 11px;
}

.filter-toggle:hover {
    background: #f3f4f6;
    color: #6B7280;
}

.filter-toggle input {
    display: none;
}

.filter-toggle:has(input:checked) {
    background: var(--move-mode-primary);
    color: white;
    border-color: var(--move-mode-primary);
}

.filter-toggle i {
    pointer-events: none;
}

.move-mode-panel-body {
    flex: 1;
    overflow-y: auto;
    padding: 12px;
}

.move-mode-panel-footer {
    display: flex;
    gap: 12px;
    padding: 12px 16px;
    padding-bottom: max(12px, env(safe-area-inset-bottom));
    background: white;
    border-top: 1px solid #E8E8E8;
    flex-shrink: 0;
}

@media (min-width: 768px) {
    .move-mode-panel-footer {
        border-radius: 0; /* No radius - collapsed bar has the rounded edge */
    }
}

/* Exit button (1/3 width) */
.move-mode-footer-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    min-height: 48px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.move-mode-footer-btn.btn-exit {
    flex: 1;
    background: white;
    border: 1px solid #E8E8E8;
    color: #6B7280;
}

.move-mode-footer-btn.btn-exit:hover {
    background: #f8f9fa;
    border-color: #d1d5db;
}

.move-mode-footer-btn.btn-exit:active {
    background: #e5e7eb;
}

/* Undo button (2/3 width, primary style) */
.move-mode-footer-btn.btn-undo {
    flex: 2;
    background: var(--move-mode-primary);
    border: none;
    color: white;
    font-weight: 600;
    box-shadow: none;
}

.move-mode-footer-btn.btn-undo:hover {
    background: var(--move-mode-primary);
    opacity: 0.9;
    transform: translateY(-1px);
}

.move-mode-footer-btn.btn-undo:active {
    transform: translateY(0);
}

.move-mode-footer-btn.btn-undo:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.move-mode-footer-btn .undo-count {
    background: rgba(255, 255, 255, 0.25);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 12px;
    font-weight: 700;
}

/* =============================================================================
   EMPTY STATE
   ============================================================================= */

.move-mode-empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
    text-align: center;
}

.move-mode-empty-state i {
    opacity: 0.5;
}

.move-mode-empty-state p {
    font-size: 13px;
}

/* =============================================================================
   RESERVATION CARDS
   ============================================================================= */

.move-mode-card {
    background: white;
    border: 1px solid #e9ecef;
    border-radius: 6px;
    margin-bottom: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    overflow: hidden;
}

.move-mode-card:hover {
    border-color: var(--move-mode-primary);
    box-shadow: 0 1px 3px rgba(206, 182, 119, 0.15);
}

.move-mode-card.selected {
    border-color: var(--move-mode-primary);
    border-width: 2px;
    box-shadow: 0 0 0 2px rgba(206, 182, 119, 0.15);
}

.move-mode-card .card-header {
    padding: 6px 10px;
    background: var(--move-mode-accent);
    border-bottom: 1px solid #e9ecef;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 4px;
}

.move-mode-card .customer-name {
    font-weight: 600;
    color: var(--move-mode-secondary);
    font-size: 12px;
}

.move-mode-card .card-body {
    padding: 6px 10px;
    font-size: 11px;
}

.move-mode-card .card-body i {
    color: var(--move-mode-secondary);
    opacity: 0.7;
}

/* =============================================================================
   PROGRESS INDICATOR
   ============================================================================= */

.progress-indicator {
    display: flex;
    align-items: center;
    gap: 6px;
}

.progress-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #dee2e6;
    border: 1px solid #ced4da;
}

.progress-dot.filled {
    background: var(--move-mode-success);
    border-color: var(--move-mode-success);
}

.progress-text {
    font-size: 11px;
    color: #6c757d;
    margin-left: auto;
}

/* =============================================================================
   PREFERENCE DOTS
   ============================================================================= */

.preference-dots {
    font-size: 10px;
    color: var(--move-mode-primary);
    letter-spacing: 1px;
}

/* =============================================================================
   EXPANDED CARD CONTENT
   ============================================================================= */

.card-expanded {
    padding: 12px;
    background: #f8f9fa;
    border-top: 1px solid #e9ecef;
}

.preferences-section {
    margin-bottom: 10px;
}

.preferences-section strong {
    display: block;
    font-size: 11px;
    text-transform: uppercase;
    color: #6c757d;
    margin-bottom: 6px;
}

.preference-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 0;
    font-size: 12px;
}

.pref-icon {
    font-size: 14px;
}

.notes-section {
    padding: 8px 10px;
    background: #fff3cd;
    border-radius: 6px;
    font-size: 12px;
    margin: 10px 0;
}

.days-section {
    font-size: 12px;
}

.days-section strong {
    display: block;
    font-size: 11px;
    text-transform: uppercase;
    color: #6c757d;
    margin-bottom: 4px;
}

.day-assignment {
    padding: 2px 0;
    color: #495057;
}

.day-assignment.today {
    font-weight: 600;
    color: var(--move-mode-secondary);
}

/* Expanded card action buttons - Issue #8 */
.card-expanded .expanded-actions {
    display: flex;
    gap: 8px;
}

.card-expanded .expanded-actions .btn {
    flex: 1;
    font-size: 12px;
    padding: 6px 10px;
}

.card-expanded .expanded-actions .btn-outline-primary {
    color: var(--move-mode-primary);
    border-color: var(--move-mode-primary);
}

.card-expanded .expanded-actions .btn-outline-primary:hover {
    background: var(--move-mode-primary);
    color: var(--move-mode-secondary);
}

/* =============================================================================
   PREFERENCE LEGEND
   ============================================================================= */

.move-mode-legend {
    position: absolute;
    bottom: 80px;
    left: 12px;
    right: 12px;
    background: white;
    border: 1px solid var(--move-mode-primary);
    border-radius: 8px;
    padding: 10px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
}

.legend-header {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    color: #6c757d;
    margin-bottom: 6px;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 3px 0;
    font-size: 12px;
}

.legend-icon {
    font-size: 14px;
}

/* =============================================================================
   FURNITURE HIGHLIGHTING (on map)
   ============================================================================= */

.furniture-highlight-strong {
    filter: drop-shadow(0 0 8px var(--move-mode-primary));
    animation: pulse-highlight 1.5s ease-in-out infinite;
}

.furniture-highlight-partial {
    filter: drop-shadow(0 0 4px var(--move-mode-primary));
    opacity: 0.85;
}

.furniture-highlight-none {
    opacity: 0.4;
}

.furniture-occupied-other {
    opacity: 0.6;
    cursor: not-allowed;
}

@keyframes pulse-highlight {
    0%, 100% {
        filter: drop-shadow(0 0 8px var(--move-mode-primary));
    }
    50% {
        filter: drop-shadow(0 0 16px var(--move-mode-primary));
    }
}

/* Preference match highlights - tiered based on match score */

/* Full match (100%) - strong green glow */
.furniture-item.preference-match-full {
    filter: drop-shadow(0 0 12px #4A7C59) drop-shadow(0 0 24px #4A7C59);
    animation: preference-glow-full 1.5s ease-in-out infinite;
}

.furniture-item.preference-match-full rect,
.furniture-item.preference-match-full circle,
.furniture-item.preference-match-full ellipse,
.furniture-item.preference-match-full polygon {
    stroke: #4A7C59 !important;
    stroke-width: 4px !important;
}

@keyframes preference-glow-full {
    0%, 100% {
        filter: drop-shadow(0 0 12px #4A7C59) drop-shadow(0 0 24px #4A7C59);
    }
    50% {
        filter: drop-shadow(0 0 18px #4A7C59) drop-shadow(0 0 36px #4A7C59);
    }
}

/* Partial match (>0% but <100%) - lighter amber glow */
.furniture-item.preference-match-partial {
    filter: drop-shadow(0 0 6px #E5A33D) drop-shadow(0 0 12px #E5A33D);
    animation: preference-glow-partial 2.5s ease-in-out infinite;
}

.furniture-item.preference-match-partial rect,
.furniture-item.preference-match-partial circle,
.furniture-item.preference-match-partial ellipse,
.furniture-item.preference-match-partial polygon {
    stroke: #E5A33D !important;
    stroke-width: 2px !important;
}

@keyframes preference-glow-partial {
    0%, 100% {
        filter: drop-shadow(0 0 6px #E5A33D) drop-shadow(0 0 12px #E5A33D);
    }
    50% {
        filter: drop-shadow(0 0 10px #E5A33D) drop-shadow(0 0 20px #E5A33D);
    }
}

/* =============================================================================
   TOOLBAR BUTTON
   ============================================================================= */

.move-mode-btn {
    background: var(--move-mode-primary);
    border: none;
    color: var(--move-mode-secondary);
    font-weight: 600;
}

.move-mode-btn:hover {
    background: var(--move-mode-primary);
    opacity: 0.9;
    color: var(--move-mode-secondary);
}

.move-mode-btn.active {
    background: var(--move-mode-secondary);
    color: var(--move-mode-primary);
}

/* =============================================================================
   TOAST NOTIFICATIONS
   ============================================================================= */

.move-mode-toast {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--move-mode-secondary);
    color: white;
    padding: 12px 24px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 12px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
    z-index: 2000;
    animation: slideUp 0.3s ease;
}

.move-mode-toast .undo-btn {
    background: var(--move-mode-primary);
    color: var(--move-mode-secondary);
    border: none;
    padding: 4px 12px;
    border-radius: 4px;
    font-weight: 600;
    cursor: pointer;
}

@keyframes slideUp {
    from {
        transform: translateX(-50%) translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
    }
}

/* =============================================================================
   MULTIDAY WARNING BADGE
   ============================================================================= */

.multiday-warning {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    background: #fff3cd;
    color: #856404;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 500;
}

/* =============================================================================
   KEYBOARD SHORTCUTS LEGEND (Desktop only)
   ============================================================================= */

.move-mode-shortcuts {
    display: none; /* Hidden by default, show only on desktop */
    justify-content: center;
    gap: 16px;
    padding: 8px 16px;
    background: #f8f9fa;
    border-top: 1px solid #E8E8E8;
    flex-shrink: 0;
}

@media (min-width: 992px) {
    .move-mode-shortcuts {
        display: flex;
    }
}

.move-mode-shortcuts span {
    font-size: 11px;
    color: #9CA3AF;
}

.move-mode-shortcuts kbd {
    display: inline-block;
    background: #F3F4F6;
    color: #6B7280;
    padding: 1px 4px;
    border-radius: 3px;
    font-size: 10px;
    font-weight: 500;
    font-family: inherit;
    border: 1px solid #E8E8E8;
}

/* =============================================================================
   LONG-PRESS VISUAL FEEDBACK
   ============================================================================= */

.furniture-item.long-press-active rect,
.furniture-item.long-press-active circle,
.furniture-item.long-press-active ellipse,
.furniture-item.long-press-active polygon {
    stroke: #E45E41 !important;
    stroke-width: 4px !important;
    animation: long-press-pulse 0.5s ease-in-out;
}

@keyframes long-press-pulse {
    0% { opacity: 1; }
    50% { opacity: 0.6; }
    100% { opacity: 1; }
}

/* Long-press progress indicator */
.furniture-item.long-press-progress::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60px;
    height: 60px;
    border: 3px solid transparent;
    border-top-color: #E45E41;
    border-radius: 50%;
    animation: long-press-spin 0.5s linear;
}

@keyframes long-press-spin {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

/* =============================================================================
   BACKDROP (optional)
   ============================================================================= */

.move-mode-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(26, 58, 92, 0.4);
    z-index: 1049;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.move-mode-backdrop.show {
    opacity: 1;
    visibility: visible;
}

/* =============================================================================
   SWIPE GESTURE FEEDBACK
   ============================================================================= */

#moveModePanel.dragging {
    transition: none;
}

/* Help button in header */
.move-mode-help-btn {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: rgba(255, 255, 255, 0.7);
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: 8px;
    transition: all 0.2s ease;
}

.move-mode-help-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    color: white;
}

/* =============================================================================
   POOL WARNING INDICATOR (Toolbar)
   ============================================================================= */

.pool-warning-indicator {
    display: flex;
    align-items: center;
    gap: 6px;
    background: #E45E41;
    color: white;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    animation: pool-warning-pulse 1.5s ease-in-out infinite;
    cursor: pointer;
    box-shadow: 0 1px 4px rgba(228, 94, 65, 0.3);
}

.pool-warning-indicator:hover {
    background: #a83a44;
}

.pool-warning-indicator i {
    font-size: 14px;
}

.pool-warning-count {
    background: white;
    color: #E45E41;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 700;
    min-width: 20px;
    text-align: center;
}

@keyframes pool-warning-pulse {
    0%, 100% {
        box-shadow: 0 1px 4px rgba(228, 94, 65, 0.3);
    }
    50% {
        box-shadow: 0 2px 8px rgba(228, 94, 65, 0.5);
    }
}

/* =============================================================================
   MOVE MODE BADGE (on toolbar button)
   ============================================================================= */

.move-mode-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    background: #E45E41;
    color: white;
    font-size: 11px;
    font-weight: 700;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: badge-pulse 1.5s ease-in-out infinite;
    box-shadow: 0 1px 3px rgba(228, 94, 65, 0.4);
}

@keyframes badge-pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
}

/* Ensure toolbar button has relative positioning for badge */
#btn-move-mode {
    position: relative;
}



/* --- map-page.css --- */
/**
 * Map Page Styles
 *
 * Styles for the interactive beach map page (/beach/map)
 * Extracted from templates/beach/map.html for maintainability
 */

/* =============================================================================
   MOBILE-FIRST MAP PAGE LAYOUT
   ============================================================================= */

/* Override parent containers for full-height map layout */
.main-content:has(.map-page) {
    overflow: hidden;
    min-height: 0;
    /* Allow flex shrinking */
}

/* Full viewport height layout - negate content-wrapper padding */
.content-wrapper:has(.map-page) {
    padding: 0;
    overflow: hidden;
    height: 100%;
    /* Critical: these ensure the container doesn't grow beyond viewport */
    min-height: 0;
    max-height: calc(100vh - 60px);
    max-height: calc(100dvh - 60px);
}

.map-page {
    display: flex;
    flex-direction: column;
    height: 100%;
    /* Fill the content-wrapper */
    overflow: hidden;
    background: var(--color-background);
    /* Prevent any content from expanding beyond */
    max-height: 100%;
}

/* =============================================================================
   TOOLBAR - Ultra Compact, Dark
   ============================================================================= */
.map-toolbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 6px 12px;
    background: var(--color-cromad);
    color: white;
    min-height: 44px;
    gap: 8px;
    flex-shrink: 0;
    overflow: visible;
}

.toolbar-group {
    display: flex;
    align-items: center;
    gap: 4px;
}

.toolbar-btn {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: none;
    background: rgba(255, 255, 255, 0.15);
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    font-size: 14px;
    position: relative;
    overflow: visible;
}

/* Badge for unassigned reservations on move mode button */
.move-mode-badge {
    position: absolute;
    top: 0;
    right: 0;
    background: var(--color-red);
    color: white;
    font-size: 9px;
    font-weight: 700;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: badge-pulse 1.5s ease-in-out infinite;
    box-shadow: none;
    z-index: 10;
    border: 1px solid white;
}

@keyframes badge-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.toolbar-btn:hover,
.toolbar-btn:active {
    background: rgba(255, 255, 255, 0.25);
}

.toolbar-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.date-display {
    font-weight: 600;
    font-size: 13px;
    color: white;
    min-width: 70px;
    text-align: center;
    cursor: pointer;
    padding: 6px 10px;
    border-radius: 6px;
    transition: background 0.2s;
}

.date-display:hover {
    background: rgba(255, 255, 255, 0.1);
}

/* Gold Zone Selector */
.zone-selector-gold {
    background: var(--color-primary);
    color: white;
    font-family: var(--font-primary);
    font-weight: 600;
    font-size: 12px;
    border: none;
    border-radius: 16px;
    padding: 6px 14px;
    cursor: pointer;
    box-shadow: none;
    min-width: 120px;
    text-align: center;
    appearance: none;
    -webkit-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M6 8L2 4h8z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 10px center;
    padding-right: 26px;
    transition: background 0.2s ease;
}

.zone-selector-gold:hover {
    background: var(--color-primary-hover);
}

.zone-selector-gold:focus {
    outline: none;
    box-shadow: none;
}

.zone-selector-gold option {
    background: white;
    color: var(--color-cromad);
    font-weight: 500;
    padding: 8px 12px;
}

/* =============================================================================
   STATS STRIP - Ultra Compact Horizontal
   ============================================================================= */
.stats-strip {
    display: flex;
    justify-content: center;
    gap: 16px;
    padding: 4px 8px;
    background: white;
    border-bottom: 1px solid var(--color-border);
    flex-shrink: 0;
}

.stat-item {
    text-align: center;
    padding: 2px 8px;
    display: flex;
    align-items: center;
    gap: 4px;
}

.stat-item .stat-value {
    font-family: var(--font-primary);
    font-size: 15px;
    font-weight: 700;
    color: var(--color-cromad);
    line-height: 1;
}

.stat-item .stat-label {
    font-size: 10px;
    text-transform: uppercase;
    color: var(--color-text-muted);
    letter-spacing: 0.3px;
}

.stat-item.stat-available .stat-value {
    color: var(--color-success);
}

.stat-item.stat-occupied .stat-value {
    color: var(--color-warning);
}

/* =============================================================================
   CANVAS INFO BAR (Map Editor Style)
   ============================================================================= */
.canvas-info-bar {
    display: flex;
    align-items: center;
    padding: 3px 12px;
    background: #f8f9fa;
    border-bottom: 1px solid var(--color-border);
    font-size: 11px;
    color: var(--color-text-muted);
    gap: 6px;
    flex-shrink: 0;
    flex-wrap: wrap;
}

.info-group {
    display: flex;
    align-items: center;
    gap: 4px;
}

.info-label {
    color: #6c757d;
}

.info-value {
    color: var(--color-secondary);
    font-weight: 500;
}

.info-value.highlight {
    color: var(--color-primary);
    font-family: 'Monaco', 'Consolas', monospace;
    font-size: 11px;
    background: rgba(212, 175, 55, 0.1);
    padding: 2px 6px;
    border-radius: 4px;
}

.info-divider {
    width: 1px;
    height: 16px;
    background: #dee2e6;
}

.info-spacer {
    flex: 1;
}

.zoom-controls {
    display: flex;
    align-items: center;
    gap: 4px;
}

.zoom-level {
    min-width: 45px;
    text-align: center;
    font-weight: 600;
}

.info-btn {
    width: 24px;
    height: 24px;
    border: 1px solid #dee2e6;
    background: white;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: var(--color-text-muted);
    transition: all 0.15s;
    font-size: 11px;
}

.info-btn:hover {
    background: var(--color-accent);
    border-color: var(--color-primary);
    color: var(--color-secondary);
}

/* Shortcuts Dropdown */
.shortcuts-dropdown {
    width: 320px;
    font-size: 12px;
}

.shortcuts-section {
    margin-bottom: 12px;
}

.shortcuts-title {
    font-weight: 600;
    color: var(--color-secondary);
    margin-bottom: 6px;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.shortcut-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 0;
    color: var(--color-text-muted);
}

.shortcut-row kbd {
    background: #f1f3f4;
    border: 1px solid #dadce0;
    border-radius: 3px;
    padding: 2px 6px;
    font-size: 11px;
    font-family: inherit;
    color: var(--color-secondary);
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
}

/* =============================================================================
   RESPONSIVE: TABLET & MOBILE OPTIMIZATIONS
   Maximize map canvas space on smaller screens
   ============================================================================= */

/* --- Tablets (up to 991.98px): Simplify info bar, show only zoom controls --- */
@media (max-width: 991.98px) {
    /* Hide non-essential info bar items: canvas dimensions, cursor, furniture count */
    .canvas-info-bar .info-detail {
        display: none;
    }

    /* Hide spacer since detail items are gone - zoom controls align left */
    .canvas-info-bar .info-spacer {
        display: none;
    }

    /* Hide keyboard shortcuts (not useful on touch devices) */
    .canvas-info-bar .info-shortcuts,
    .canvas-info-bar .info-shortcuts-divider {
        display: none;
    }

    /* Compact the info bar padding since fewer items */
    .canvas-info-bar {
        padding: 2px 12px;
        justify-content: center;
    }

    /* Compact stats strip for tablets */
    .stats-strip {
        gap: 8px;
        padding: 3px 8px;
    }

    .stat-item .stat-value {
        font-size: 13px;
    }

    .stat-item .stat-label {
        font-size: 9px;
    }

    /* Toolbar: allow wrapping and reduce padding */
    .map-toolbar {
        flex-wrap: wrap;
        padding: 6px 8px;
        min-height: auto;
        gap: 6px;
    }

    /* Hide filter dropdowns on tablets (available via search) */
    .map-filter-dropdowns {
        display: none;
    }
}

/* --- Small tablets & phones (up to 768px): Hide info bar completely --- */
@media (max-width: 768px) {
    /* Info bar is completely hidden - FAB zoom buttons are sufficient */
    .canvas-info-bar {
        display: none;
    }

    /* Stats strip: ultra-compact single line */
    .stats-strip {
        gap: 6px;
        padding: 2px 6px;
    }

    .stat-item {
        padding: 1px 4px;
    }

    .stat-item .stat-value {
        font-size: 12px;
    }

    /* Reduce map canvas padding to maximize space */
    .map-canvas-wrapper {
        padding: 4px;
    }

    /* Ensure FAB zoom buttons are clearly visible */
    .zoom-fab {
        bottom: 80px;
        right: 12px;
    }

    .fab-btn {
        width: 42px;
        height: 42px;
        font-size: 16px;
    }
}

/* --- Phones (up to 576px): Minimal chrome, maximum map --- */
@media (max-width: 576px) {
    /* Hide stats strip completely on small phones for max map space */
    .stats-strip {
        display: none;
    }

    /* Toolbar: tighter spacing */
    .map-toolbar {
        padding: 4px 6px;
        gap: 4px;
    }

    /* Smaller toolbar buttons */
    .toolbar-btn {
        width: 36px;
        height: 36px;
        min-height: 44px;
        min-width: 44px;
        font-size: 12px;
    }

    /* Smaller date display */
    .date-display {
        font-size: 12px;
        min-width: 60px;
        padding: 4px 6px;
    }

    /* Smaller zone selector */
    .zone-selector-gold {
        min-width: 90px;
        font-size: 11px;
        padding: 4px 22px 4px 10px;
    }

    /* Reduce map canvas padding */
    .map-canvas-wrapper {
        padding: 2px;
    }

    /* Tighter FAB position */
    .zoom-fab {
        bottom: 70px;
        right: 8px;
        gap: 6px;
    }

    .fab-btn {
        width: 44px;
        height: 44px;
        font-size: 14px;
    }

    /* Sync button: hide text, show only icon */
    .sync-button span {
        display: none;
    }

    .sync-button {
        min-width: auto;
        padding: 4px 8px;
    }
}

/* =============================================================================
   MAP CANVAS - Full Screen (Map Editor Style)
   ============================================================================= */
/* Canvas viewport - matches map editor style */
.map-canvas-wrapper {
    flex: 1 1 0%;
    /* Grow, shrink, but start at 0 (critical for flex containment) */
    position: relative;
    overflow: auto;
    /* Use auto instead of scroll for better behavior */
    background: #dee2e6;
    padding: 10px;
    /* Critical: min-height: 0 allows flex item to shrink below content size */
    min-height: 0;
    /* Isolate scrolling to this container */
    isolation: isolate;
    /* Center content using text-align (works with inline-block child) */
    text-align: center;
    /* Mobile touch scrolling improvements */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    touch-action: pan-x pan-y;
}

.map-canvas {
    /* Inline-block for centering via text-align */
    display: inline-block;
    /* Allow touch pan only - disable native pinch-zoom to prevent conflict with JS zoom */
    touch-action: pan-x pan-y;
    /* Reset text-align for content */
    text-align: left;
    /* Margin auto for additional centering support */
    margin: 0 auto;
}

/* SVG container with shadow - like map editor */
.map-canvas svg {
    background: #FAFAFA;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
    border-radius: 4px;
    display: block;
}

/* Hide zone rectangles - zone is shown in toolbar dropdown */
.map-canvas .zone-group {
    display: none;
}

/* Loading State */
.map-loading {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 10;
}

/* =============================================================================
   FLOATING ZOOM CONTROLS (FAB Style)
   ============================================================================= */
.zoom-fab {
    position: fixed;
    /* Fixed so it stays visible always */
    bottom: 100px;
    /* Above bottom bar */
    right: 24px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    z-index: 50;
}

.fab-btn {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: white;
    border: none;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    font-size: 18px;
    color: var(--color-secondary);
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.fab-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
}

.fab-btn:active {
    transform: scale(0.95);
}

/* =============================================================================
   BOTTOM ACTION BAR (Slides up on selection)
   ============================================================================= */
.bottom-action-bar {
    position: fixed;
    bottom: 0;
    left: var(--sidebar-width, 260px);
    right: 0;
    background: white;
    border-top: 3px solid var(--color-primary);
    padding: 16px 20px;
    padding-bottom: max(16px, env(safe-area-inset-bottom));
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.08);
    border-radius: 12px 12px 0 0;
    transform: translateY(100%);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), visibility 0.3s, left 0.3s ease;
    z-index: 1040;
    visibility: hidden;
    pointer-events: none;
}

/* Adjust footer when sidebar is collapsed */
html.sidebar-collapsed .bottom-action-bar {
    left: var(--sidebar-collapsed-width, 70px);
}

/* On mobile, footer goes full width */
@media (max-width: 991px) {
    .bottom-action-bar {
        left: 0;
    }

    html.sidebar-collapsed .bottom-action-bar {
        left: 0;
    }
}

.bottom-action-bar.show {
    transform: translateY(0);
    visibility: visible;
    pointer-events: auto;
}

.selection-summary {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-bottom: 10px;
}

.selected-items {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    justify-content: center;
}

.selection-chip {
    display: inline-flex;
    align-items: center;
    padding: 5px 12px;
    background: var(--color-accent);
    border: 1.5px solid var(--color-primary);
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    color: var(--color-secondary);
}

.selection-chip .remove-chip {
    margin-left: 6px;
    cursor: pointer;
    opacity: 0.6;
    font-size: 10px;
}

.selection-chip .remove-chip:hover {
    opacity: 1;
}

.selection-meta {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 13px;
    color: var(--color-text-muted);
    white-space: nowrap;
    background: var(--color-accent);
    padding: 5px 12px;
    border-radius: 20px;
}

.selection-actions {
    display: flex;
    justify-content: center;
    gap: 10px;
}

.btn-clear {
    width: 44px;
    height: 44px;
    border-radius: 22px;
    border: 1.5px solid var(--color-border);
    background: white;
    color: var(--color-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    transition: all 0.2s;
    flex-shrink: 0;
}

.btn-clear:hover {
    border-color: var(--color-error);
    color: var(--color-error);
    background: rgba(193, 68, 79, 0.05);
}

.btn-block {
    width: 44px;
    height: 44px;
    border-radius: 22px;
    border: 1.5px solid #EF4444;
    background: white;
    color: #EF4444;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    transition: all 0.2s;
    flex-shrink: 0;
}

.btn-block:hover {
    background: #FEE2E2;
    border-color: #DC2626;
    color: #DC2626;
}

.btn-reserve {
    flex: 0 1 auto;
    min-width: 140px;
    padding: 12px 24px;
    background: #CEB677;
    color: #1A1A1A;
    font-weight: 600;
    font-size: 15px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(206, 182, 119, 0.3);
}

.btn-reserve:hover {
    background: #D4B87D;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(206, 182, 119, 0.4);
}

.btn-reserve:active {
    transform: scale(0.98);
}

/* =============================================================================
   FURNITURE STYLING (Map)
   ============================================================================= */
.furniture-item {
    transition: filter 0.2s, transform 0.2s;
    cursor: pointer;
}

.furniture-item:active {
    filter: brightness(0.9);
}

.furniture-item.selected {
    filter: drop-shadow(0 0 8px var(--color-primary));
}

.furniture-item.highlighted {
    animation: pulseHighlight 1s ease-in-out infinite;
}

@keyframes pulseHighlight {

    0%,
    100% {
        filter: drop-shadow(0 0 8px var(--color-primary));
    }

    50% {
        filter: drop-shadow(0 0 16px var(--color-primary));
    }
}

/* Decorative items */
.decorative-item {
    pointer-events: none;
}

/* =============================================================================
   HIDDEN DATE PICKER
   ============================================================================= */
.date-picker-hidden {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
    pointer-events: none;
}

.date-picker-hidden.show {
    position: fixed;
    top: 60px;
    left: 50%;
    transform: translateX(-50%);
    opacity: 1;
    width: auto;
    height: auto;
    pointer-events: auto;
    z-index: 200;
    background: white;
    padding: 8px;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

/* =============================================================================
   DESKTOP ENHANCEMENTS
   ============================================================================= */
@media (min-width: 768px) {
    .map-toolbar {
        padding: 12px 24px;
    }

    .date-display {
        min-width: 120px;
        font-size: 15px;
    }

    .zone-selector-gold {
        min-width: 180px;
        font-size: 15px;
    }

    .zoom-fab {
        bottom: 120px;
        right: 24px;
    }

    /* Bottom bar accounts for sidebar */
    .bottom-action-bar {
        left: var(--sidebar-width, 280px);
    }
}


/* Hover states for desktop */
@media (hover: hover) {
    .furniture-item:hover {
        filter: brightness(1.1);
    }

    .furniture-item:hover rect,
    .furniture-item:hover ellipse,
    .furniture-item:hover circle {
        stroke-width: 3;
    }
}

/* =============================================================================
   CONTEXT MENU (Keep from original)
   ============================================================================= */
.context-menu {
    position: fixed;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    z-index: 1050;
    min-width: 180px;
    padding: 8px 0;
    border: 1px solid var(--color-border);
}

.context-menu-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 16px;
    cursor: pointer;
    transition: background 0.2s;
    color: var(--color-text);
    font-size: 14px;
}

.context-menu-item:hover {
    background: var(--color-accent);
}

.context-menu-item.danger {
    color: var(--color-danger);
}

.context-menu-item.danger:hover {
    background: #fef2f2;
}

.context-menu-divider {
    height: 1px;
    background: var(--color-border);
    margin: 6px 0;
}

.context-menu-header {
    padding: 8px 16px;
    font-size: 12px;
    color: var(--color-text-muted);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* =============================================================================
   EXISTING RESERVATION HIGHLIGHT
   Pulsing red border for furniture when viewing existing reservation
   ============================================================================= */
.furniture-item.existing-reservation-highlight rect,
.furniture-item.existing-reservation-highlight circle,
.furniture-item.existing-reservation-highlight ellipse {
    stroke: #C1444F !important;
    stroke-width: 4px !important;
    animation: pulse-border 1.5s ease-in-out infinite;
}

@keyframes pulse-border {
    0%, 100% {
        stroke-opacity: 1;
        stroke-width: 4px;
    }
    50% {
        stroke-opacity: 0.6;
        stroke-width: 6px;
    }
}

.furniture-item.existing-reservation-highlight {
    filter: drop-shadow(0 0 8px rgba(193, 68, 79, 0.6)) !important;
}

/* =============================================================================
   MAP READ-ONLY STATE (Modal State Manager)
   ============================================================================= */

/* Visual overlay when map is read-only (modal open) */
.beach-map-container.read-only {
    position: relative;
}

.beach-map-container.read-only::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(26, 26, 26, 0.02);
    pointer-events: all; /* Block all clicks */
    z-index: 100;
    cursor: not-allowed;
}

/* Disable cursor changes on furniture when read-only */
.beach-map-container.read-only .furniture-item {
    cursor: default !important;
    pointer-events: none;
}

/* Disable interaction with zones when read-only */
.beach-map-container.read-only .zone-polygon {
    pointer-events: none;
}

/* Disable temporary furniture interactions when read-only */
.beach-map-container.read-only .temp-furniture {
    pointer-events: none;
    cursor: default !important;
}

